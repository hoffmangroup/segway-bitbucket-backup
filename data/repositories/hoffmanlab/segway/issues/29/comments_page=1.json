{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22314297.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22314297"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "@rprogers Is there a good way to identify whether a GMTK error is due to running out of memory or not?", "markup": "markdown", "html": "<p>@rprogers Is there a good way to identify whether a GMTK error is due to running out of memory or not?</p>", "type": "rendered"}, "created_on": "2015-10-07T19:47:42.316311+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 22314297}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22315411.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22315411"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "There's a -verbose module that will report on memory usage, but I don't think it currently checks for failures due to memory exhaustion.\n\nIt looks like it uses a mixture of new (which throws an exception on memory exhaustion) and malloc (which returns NULL on memory exhaustion). Disturbingly, it looks like many of the malloc return values are not checked, so GMTK's behaviour will likely be a random crash if they fail.\n\nMost of the mallocs should be easy to handle, though there's at least one in some code generated by Flex that I will have to take a closer look at.  The news might be a more complicated story -- it would be easy to put a try/catch around each GMTK program's main, but Jeff will probably want me to benchmark the performance impact of that. Which will probably vary from compiler to compiler...  Switching them all to nothrow news & adding explicit NULL checks might be an option too.", "markup": "markdown", "html": "<p>There's a -verbose module that will report on memory usage, but I don't think it currently checks for failures due to memory exhaustion.</p>\n<p>It looks like it uses a mixture of new (which throws an exception on memory exhaustion) and malloc (which returns NULL on memory exhaustion). Disturbingly, it looks like many of the malloc return values are not checked, so GMTK's behaviour will likely be a random crash if they fail.</p>\n<p>Most of the mallocs should be easy to handle, though there's at least one in some code generated by Flex that I will have to take a closer look at.  The news might be a more complicated story -- it would be easy to put a try/catch around each GMTK program's main, but Jeff will probably want me to benchmark the performance impact of that. Which will probably vary from compiler to compiler...  Switching them all to nothrow news &amp; adding explicit NULL checks might be an option too.</p>", "type": "rendered"}, "created_on": "2015-10-07T20:44:49.350789+00:00", "user": {"display_name": "Richard Rogers", "uuid": "{f49a2a7a-176f-4bb4-9da1-4e93c38335ee}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D"}, "html": {"href": "https://bitbucket.org/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a499296f5ff06546c64c8c0337d6e86d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRR-5.png"}}, "nickname": "rprogers", "type": "user", "account_id": "557058:830a6f0e-2003-4cc8-ab0d-19b00ab2b580"}, "updated_on": null, "type": "issue_comment", "id": 22315411}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22316292.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22316292"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "Should we submit a GMTK issue for this?\n\nWhat we really need are a set of exit statuses that we know represent a failure that *isn't* due to memory exhaustion. Having a unique error code for failure of `new`, `malloc`, and similar would be one way of doing this but I'm worried there might be other sources of abnormal termination due to memory exhaustion that wouldn't be caught, such as in non-GMTK libraries.\n\nIf Segway got an expected error code (indicating, say, invalid structure or master file syntax, or file not found), then it would abort immediately. If it got an unexpected error code (indicating memory exhaustion, segfault, or anything else), Segway would resubmit with more memory.", "markup": "markdown", "html": "<p>Should we submit a GMTK issue for this?</p>\n<p>What we really need are a set of exit statuses that we know represent a failure that <em>isn't</em> due to memory exhaustion. Having a unique error code for failure of <code>new</code>, <code>malloc</code>, and similar would be one way of doing this but I'm worried there might be other sources of abnormal termination due to memory exhaustion that wouldn't be caught, such as in non-GMTK libraries.</p>\n<p>If Segway got an expected error code (indicating, say, invalid structure or master file syntax, or file not found), then it would abort immediately. If it got an unexpected error code (indicating memory exhaustion, segfault, or anything else), Segway would resubmit with more memory.</p>", "type": "rendered"}, "created_on": "2015-10-07T21:24:34.509177+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 22316292}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22317674.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22317674"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "Yes, submit an enhancement request for this.\n\nThe GMTK programs exit with status 0 if successful. The convention is that any detected user input errors exit with status 1. Any internally caught programming errors (failed assertions) cause a platform-dependent exit status, typically 134 for Linux/GCC. Uncaught programming errors that cause signals like segmentation faults or arithmetic traps will typically have exit status 128 + n where  n is the signal number. 139 for a seg fault.\n\nMemory exhaustion in a malloc will probably seg fault. But I don't think it's very likely - most of the \"interesting\" memory is allocated with new. A seg fault is much more likely to indicate a GMTK bug.\n\nIt looks like uncaught exceptions also use exist status 134, so just looking at that won't be able to distinguish between a failed assertion and memory exhaustion. You may see different error messages in the two cases though.\n\nI would suggest adding a new exit status of 2 to indicate memory exhaustion.", "markup": "markdown", "html": "<p>Yes, submit an enhancement request for this.</p>\n<p>The GMTK programs exit with status 0 if successful. The convention is that any detected user input errors exit with status 1. Any internally caught programming errors (failed assertions) cause a platform-dependent exit status, typically 134 for Linux/GCC. Uncaught programming errors that cause signals like segmentation faults or arithmetic traps will typically have exit status 128 + n where  n is the signal number. 139 for a seg fault.</p>\n<p>Memory exhaustion in a malloc will probably seg fault. But I don't think it's very likely - most of the \"interesting\" memory is allocated with new. A seg fault is much more likely to indicate a GMTK bug.</p>\n<p>It looks like uncaught exceptions also use exist status 134, so just looking at that won't be able to distinguish between a failed assertion and memory exhaustion. You may see different error messages in the two cases though.</p>\n<p>I would suggest adding a new exit status of 2 to indicate memory exhaustion.</p>", "type": "rendered"}, "created_on": "2015-10-07T22:59:37.343081+00:00", "user": {"display_name": "Richard Rogers", "uuid": "{f49a2a7a-176f-4bb4-9da1-4e93c38335ee}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D"}, "html": {"href": "https://bitbucket.org/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a499296f5ff06546c64c8c0337d6e86d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRR-5.png"}}, "nickname": "rprogers", "type": "user", "account_id": "557058:830a6f0e-2003-4cc8-ab0d-19b00ab2b580"}, "updated_on": null, "type": "issue_comment", "id": 22317674}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22367877.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22367877"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "See [GMTK ticket 579](https://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/579)", "markup": "markdown", "html": "<p>See <a data-is-external-link=\"true\" href=\"https://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/579\" rel=\"nofollow\">GMTK ticket 579</a></p>", "type": "rendered"}, "created_on": "2015-10-09T15:05:48.383888+00:00", "user": {"display_name": "Richard Rogers", "uuid": "{f49a2a7a-176f-4bb4-9da1-4e93c38335ee}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D"}, "html": {"href": "https://bitbucket.org/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a499296f5ff06546c64c8c0337d6e86d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRR-5.png"}}, "nickname": "rprogers", "type": "user", "account_id": "557058:830a6f0e-2003-4cc8-ab0d-19b00ab2b580"}, "updated_on": null, "type": "issue_comment", "id": 22367877}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22378225.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22378225"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "Thank you, Richard! Our plan is to have Segway react to GMTK exit statuses follows:\n\n0: use results, go to next step of process\n1: abort Segway with immediate error\n\nAnything else (2, 75, 134, 139) will result in re-submitting the GMTK task with more memory.\n\nDoes it make sense for us to actually implement this in Segway now? Is a case where memory exhaustion could lead to exit code 1?", "markup": "markdown", "html": "<p>Thank you, Richard! Our plan is to have Segway react to GMTK exit statuses follows:</p>\n<p>0: use results, go to next step of process\n1: abort Segway with immediate error</p>\n<p>Anything else (2, 75, 134, 139) will result in re-submitting the GMTK task with more memory.</p>\n<p>Does it make sense for us to actually implement this in Segway now? Is a case where memory exhaustion could lead to exit code 1?</p>", "type": "rendered"}, "created_on": "2015-10-09T15:47:40.196811+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 22378225}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22388964.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22388964"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "I would suggest only resubmitting GMTK jobs on exit status 75 once I get this fixed. The other values will indicate problems that won't be helped by additional memory: user input error (1) or GMTK bug (>= 128).\n\nWhen I started working on this I found a few places that do exit(-1) on malloc failure. I think that will get anded with a mask though and result in exit status 255. Other than that I think memory exhaustion will always result in 134 or 139 with GMTK 1.4.1. If you are confident your models won't trigger GMTK bugs when adequate memory is available, it's probably safe to resubmit the jobs on 134, 139, or 255.\n", "markup": "markdown", "html": "<p>I would suggest only resubmitting GMTK jobs on exit status 75 once I get this fixed. The other values will indicate problems that won't be helped by additional memory: user input error (1) or GMTK bug (&gt;= 128).</p>\n<p>When I started working on this I found a few places that do exit(-1) on malloc failure. I think that will get anded with a mask though and result in exit status 255. Other than that I think memory exhaustion will always result in 134 or 139 with GMTK 1.4.1. If you are confident your models won't trigger GMTK bugs when adequate memory is available, it's probably safe to resubmit the jobs on 134, 139, or 255.</p>", "type": "rendered"}, "created_on": "2015-10-09T23:54:32.755218+00:00", "user": {"display_name": "Richard Rogers", "uuid": "{f49a2a7a-176f-4bb4-9da1-4e93c38335ee}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D"}, "html": {"href": "https://bitbucket.org/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a499296f5ff06546c64c8c0337d6e86d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRR-5.png"}}, "nickname": "rprogers", "type": "user", "account_id": "557058:830a6f0e-2003-4cc8-ab0d-19b00ab2b580"}, "updated_on": null, "type": "issue_comment", "id": 22388964}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22394432.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22394432"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "I have found a couple of places in the observation file reading code that can give exit status 1 due to memory exhaustion.", "markup": "markdown", "html": "<p>I have found a couple of places in the observation file reading code that can give exit status 1 due to memory exhaustion.</p>", "type": "rendered"}, "created_on": "2015-10-10T07:13:06.547747+00:00", "user": {"display_name": "Richard Rogers", "uuid": "{f49a2a7a-176f-4bb4-9da1-4e93c38335ee}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D"}, "html": {"href": "https://bitbucket.org/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a499296f5ff06546c64c8c0337d6e86d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRR-5.png"}}, "nickname": "rprogers", "type": "user", "account_id": "557058:830a6f0e-2003-4cc8-ab0d-19b00ab2b580"}, "updated_on": null, "type": "issue_comment", "id": 22394432}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22562060.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22562060"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "OK, we will hold off on making changes until you report memory exhaustion is unlikely to give exit status 1 and there is a new GMTK release. We will need to make the new GMTK release a prerequisite.", "markup": "markdown", "html": "<p>OK, we will hold off on making changes until you report memory exhaustion is unlikely to give exit status 1 and there is a new GMTK release. We will need to make the new GMTK release a prerequisite.</p>", "type": "rendered"}, "created_on": "2015-10-17T01:10:56.698901+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 22562060}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22562973.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22562973"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "The [ticket579 branch](https://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/579) is about ready for testing if you'd like to try it out. I should be able to do a source release fairly quickly once this is tested. But our Debian & CentOS 7 machines are still down, so it may take some time to create the binary packages other than the RHEL 6 RPM. I could add the various packaging files to the source release so you can roll your own packages if you'd like...\n", "markup": "markdown", "html": "<p>The <a data-is-external-link=\"true\" href=\"https://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/579\" rel=\"nofollow\">ticket579 branch</a> is about ready for testing if you'd like to try it out. I should be able to do a source release fairly quickly once this is tested. But our Debian &amp; CentOS 7 machines are still down, so it may take some time to create the binary packages other than the RHEL 6 RPM. I could add the various packaging files to the source release so you can roll your own packages if you'd like...</p>", "type": "rendered"}, "created_on": "2015-10-17T04:04:11.113214+00:00", "user": {"display_name": "Richard Rogers", "uuid": "{f49a2a7a-176f-4bb4-9da1-4e93c38335ee}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D"}, "html": {"href": "https://bitbucket.org/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a499296f5ff06546c64c8c0337d6e86d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRR-5.png"}}, "nickname": "rprogers", "type": "user", "account_id": "557058:830a6f0e-2003-4cc8-ab0d-19b00ab2b580"}, "updated_on": "2015-10-17T04:06:21.730023+00:00", "type": "issue_comment", "id": 22562973}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22586240.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22586240"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "It would probably be best to wait until the GMTK release is available to implement this, because then we can start requiring that version of GMTK or later.\n\n@ericr86, what do you think about the following changes:\n\n1. start parsing the GMTK version both at start and in individual jobs so we can enforce a minimum version\n2. only resubmit on `EX_TEMPFAIL`\n3. simpleseg test with garbage input.master -> no resubmission, immediate failure\n4. simpleseg test with minimal memory in progression at beginning, and then resubmission and success", "markup": "markdown", "html": "<p>It would probably be best to wait until the GMTK release is available to implement this, because then we can start requiring that version of GMTK or later.</p>\n<p>@ericr86, what do you think about the following changes:</p>\n<ol>\n<li>start parsing the GMTK version both at start and in individual jobs so we can enforce a minimum version</li>\n<li>only resubmit on <code>EX_TEMPFAIL</code></li>\n<li>simpleseg test with garbage input.master -&gt; no resubmission, immediate failure</li>\n<li>simpleseg test with minimal memory in progression at beginning, and then resubmission and success</li>\n</ol>", "type": "rendered"}, "created_on": "2015-10-18T19:49:39.473878+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 22586240}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22603366.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22603366"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "1. It might be better to parse the GMTK version during the installation. We don't guarantee better job submission logic in earlier versions anyway. I don't think try to catch for errors where a user somehow manage to have different GMTK versions between their environment and their job submitted environment is worthwhile to try to prevent. I could be mistaken however.\n\n2. Sounds great me\n\n3. Sounds like a good base case\n\n4. This is for testing out-of-memory issues correct? Can we even create a \"simpleseg\" where it takes more than 1 gig of memory at least? As far as I know we can only do mem progressions in 1 gig increments.\n\n", "markup": "markdown", "html": "<ol>\n<li>\n<p>It might be better to parse the GMTK version during the installation. We don't guarantee better job submission logic in earlier versions anyway. I don't think try to catch for errors where a user somehow manage to have different GMTK versions between their environment and their job submitted environment is worthwhile to try to prevent. I could be mistaken however.</p>\n</li>\n<li>\n<p>Sounds great me</p>\n</li>\n<li>\n<p>Sounds like a good base case</p>\n</li>\n<li>\n<p>This is for testing out-of-memory issues correct? Can we even create a \"simpleseg\" where it takes more than 1 gig of memory at least? As far as I know we can only do mem progressions in 1 gig increments.</p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2015-10-19T12:35:15.849895+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": null, "type": "issue_comment", "id": 22603366}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22643955.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22643955"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "OK, we can try your plan for 1 at first.\n\n> Can't we submit a floating point number for memory progression?\n\nWe could supply a small fraction of a gigabyte.", "markup": "markdown", "html": "<p>OK, we can try your plan for 1 at first.</p>\n<blockquote>\n<p>Can't we submit a floating point number for memory progression?</p>\n</blockquote>\n<p>We could supply a small fraction of a gigabyte.</p>", "type": "rendered"}, "created_on": "2015-10-20T19:55:06.915537+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2015-10-29T11:39:27.266865+00:00", "type": "issue_comment", "id": 22643955}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22913081.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22913081"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "GMTK 1.4.2 is released and should have exit status 75 on memory exhaustion.\n", "markup": "markdown", "html": "<p>GMTK 1.4.2 is released and should have exit status 75 on memory exhaustion.</p>", "type": "rendered"}, "created_on": "2015-10-29T00:21:56.397958+00:00", "user": {"display_name": "Richard Rogers", "uuid": "{f49a2a7a-176f-4bb4-9da1-4e93c38335ee}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D"}, "html": {"href": "https://bitbucket.org/%7Bf49a2a7a-176f-4bb4-9da1-4e93c38335ee%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a499296f5ff06546c64c8c0337d6e86d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRR-5.png"}}, "nickname": "rprogers", "type": "user", "account_id": "557058:830a6f0e-2003-4cc8-ab0d-19b00ab2b580"}, "updated_on": null, "type": "issue_comment", "id": 22913081}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22924446.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22924446"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "Thanks Richard! Eric can you make a new stack on Trello for Release 1.4.0 and implementing this is the feature. We should have a new minor release because of the change in required GMTK version. The current Release 1.4.0 stuff can be pushed back to 1.5.0.", "markup": "markdown", "html": "<p>Thanks Richard! Eric can you make a new stack on Trello for Release 1.4.0 and implementing this is the feature. We should have a new minor release because of the change in required GMTK version. The current Release 1.4.0 stuff can be pushed back to 1.5.0.</p>", "type": "rendered"}, "created_on": "2015-10-29T11:42:11.438039+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 22924446}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22934787.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22934787"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "Done. \n\nThere's another option if you want to put the upcoming 1.3.2 release to include this as well instead.", "markup": "markdown", "html": "<p>Done. </p>\n<p>There's another option if you want to put the upcoming 1.3.2 release to include this as well instead.</p>", "type": "rendered"}, "created_on": "2015-10-29T17:25:01.921528+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": null, "type": "issue_comment", "id": 22934787}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/22935794.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-22935794"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "We could do that. But if you already have a lot of the testing stuff ready it might make sense to release it first so people have access. You can decide, it's just whenever we add this new prerequisite we should do a new minor release. ", "markup": "markdown", "html": "<p>We could do that. But if you already have a lot of the testing stuff ready it might make sense to release it first so people have access. You can decide, it's just whenever we add this new prerequisite we should do a new minor release. </p>", "type": "rendered"}, "created_on": "2015-10-29T18:12:31.538712+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 22935794}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29/comments/25708306.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/29#comment-25708306"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/29.json"}}, "type": "issue", "id": 29, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Better error reporting on running out of memory with GMTK vs other problems"}, "content": {"raw": "Resolved in Pull Request #41 and Pull Request #36", "markup": "markdown", "html": "<p>Resolved in <a href=\"#!/hoffmanlab/segway/pull-requests/41/segway-task-memory-error\" rel=\"nofollow\" class=\"ap-connect-link\">Pull Request #41</a> and <a href=\"#!/hoffmanlab/segway/pull-requests/36/better-gmtk-job-handling\" rel=\"nofollow\" class=\"ap-connect-link\">Pull Request #36</a></p>", "type": "rendered"}, "created_on": "2016-02-23T19:38:31.707464+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": null, "type": "issue_comment", "id": 25708306}], "page": 1, "size": 18}