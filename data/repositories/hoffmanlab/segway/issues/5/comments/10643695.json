{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/5/comments/10643695.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/5#comment-10643695"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "GMTK segfault occurs when using --resolution option"}, "content": {"raw": "The bug does not exist on the ticket 6 branch of GMTK (GMTK 1.0.1 (Mercurial id: 52bb468453b2 (ticket6) checkin date: Wed May 07 17:08:57 2014 -0700)).\nI downloaded a script to reproduce the bug from here: https://j.ee.washington.edu/trac/gmtk/raw-attachment/ticket/6/weight_penalty_segfault.tar.gz\n\nHowever on the default and ticket 161-2 branch the bug still exists. Their versions and their output are listed below:\n\n    $ gmtkTriangulate -version\n    GMTK 1.0.0rc (Mercurial id: c91e45e5729f (ticket161-2) checkin date: Mon Aug 26 22:37:35 2013 -0700)\n    $ gmtkTriangulate -version\n    GMTK 1.0.1 (Mercurial id: fed7fec16fe6 checkin date: Tue May 06 12:36:23 2014 -0700)\n\nProduce identical output:\n\n    $ ./reproduce_bug.sh \n    ____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Tuesday June 10 2014, 10:15:47 EDT ____\n    windowBytes = 4 MiB = 4194304 B\n    fileBufferSize = 4194304\n    FileSource window = 5165 frames, 4 MiB\n    cookedBuffer = 20661 frames, 16 MiB\n    Reading keyword 'MEAN_IN_FILE' from inline.\n    Reading keyword 'COVAR_IN_FILE' from inline.\n    Reading keyword 'MC_IN_FILE' from inline.\n    Reading keyword 'DPMF_IN_FILE' from inline.\n    Reading keyword 'MX_IN_FILE' from inline.\n    Reading keyword 'DT_IN_FILE' from inline.\n    Reading keyword 'DETERMINISTIC_CPT_IN_FILE' from inline.\n    Reading keyword 'DENSE_CPT_IN_FILE' from inline.\n    Reading keyword 'DT_IN_FILE' from inline.\n    Reading keyword 'DETERMINISTIC_CPT_IN_FILE' from inline.\n    Finished reading in all parameters and structures\n    Creating Junction Tree\n    ./train.sh: line 15: 18277 Segmentation fault      (core dumped) gmtkEMtrain -strFile dual_accumulator.str -triFile dual_accumulator.str.trifile -inputMasterFile dual_accumulator.master -outputMasterFile out.master -objsNotToTrain params.notrain -of1 data/strict-orbitrap-processed-spectrum.pfile -fmt1 pfile -ni1 0 -nf1 200 -of2 data/strict-orbitrap-processed-peptide.pfile -fmt2 pfile -ni2 3 -nf2 0 -fdiffact1 rl -dirichletPriors T -verb 58 -cbeam 0.5e10 -maxEmIters 5 $@\n", "markup": "markdown", "html": "<p>The bug does not exist on the ticket 6 branch of GMTK (GMTK 1.0.1 (Mercurial id: <a href=\"#!/hoffmanlab/segway/commits/52bb468453b2\" rel=\"nofollow\" class=\"ap-connect-link\">52bb468453b2</a> (ticket6) checkin date: Wed May 07 17:08:57 2014 -0700)).\nI downloaded a script to reproduce the bug from here: <a href=\"https://j.ee.washington.edu/trac/gmtk/raw-attachment/ticket/6/weight_penalty_segfault.tar.gz\" rel=\"nofollow\" class=\"ap-connect-link\">https://j.ee.washington.edu/trac/gmtk/raw-attachment/ticket/6/weight_penalty_segfault.tar.gz</a></p>\n<p>However on the default and ticket 161-2 branch the bug still exists. Their versions and their output are listed below:</p>\n<div class=\"codehilite\"><pre><span></span>$ gmtkTriangulate -version\nGMTK <span class=\"m\">1</span>.0.0rc <span class=\"o\">(</span>Mercurial id: c91e45e5729f <span class=\"o\">(</span>ticket161-2<span class=\"o\">)</span> checkin date: Mon Aug <span class=\"m\">26</span> <span class=\"m\">22</span>:37:35 <span class=\"m\">2013</span> -0700<span class=\"o\">)</span>\n$ gmtkTriangulate -version\nGMTK <span class=\"m\">1</span>.0.1 <span class=\"o\">(</span>Mercurial id: fed7fec16fe6 checkin date: Tue May <span class=\"m\">06</span> <span class=\"m\">12</span>:36:23 <span class=\"m\">2014</span> -0700<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>Produce identical output:</p>\n<div class=\"codehilite\"><pre><span></span>$ ./reproduce_bug.sh \n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS <span class=\"m\">0</span> AT Tuesday June <span class=\"m\">10</span> <span class=\"m\">2014</span>, <span class=\"m\">10</span>:15:47 EDT ____\n<span class=\"nv\">windowBytes</span> <span class=\"o\">=</span> <span class=\"m\">4</span> <span class=\"nv\">MiB</span> <span class=\"o\">=</span> <span class=\"m\">4194304</span> B\n<span class=\"nv\">fileBufferSize</span> <span class=\"o\">=</span> <span class=\"m\">4194304</span>\nFileSource <span class=\"nv\">window</span> <span class=\"o\">=</span> <span class=\"m\">5165</span> frames, <span class=\"m\">4</span> MiB\n<span class=\"nv\">cookedBuffer</span> <span class=\"o\">=</span> <span class=\"m\">20661</span> frames, <span class=\"m\">16</span> MiB\nReading keyword <span class=\"s1\">&#39;MEAN_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;COVAR_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;MC_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;DPMF_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;MX_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;DT_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;DETERMINISTIC_CPT_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;DENSE_CPT_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;DT_IN_FILE&#39;</span> from inline.\nReading keyword <span class=\"s1\">&#39;DETERMINISTIC_CPT_IN_FILE&#39;</span> from inline.\nFinished reading in all parameters and structures\nCreating Junction Tree\n./train.sh: line <span class=\"m\">15</span>: <span class=\"m\">18277</span> Segmentation fault      <span class=\"o\">(</span>core dumped<span class=\"o\">)</span> gmtkEMtrain -strFile dual_accumulator.str -triFile dual_accumulator.str.trifile -inputMasterFile dual_accumulator.master -outputMasterFile out.master -objsNotToTrain params.notrain -of1 data/strict-orbitrap-processed-spectrum.pfile -fmt1 pfile -ni1 <span class=\"m\">0</span> -nf1 <span class=\"m\">200</span> -of2 data/strict-orbitrap-processed-peptide.pfile -fmt2 pfile -ni2 <span class=\"m\">3</span> -nf2 <span class=\"m\">0</span> -fdiffact1 rl -dirichletPriors T -verb <span class=\"m\">58</span> -cbeam <span class=\"m\">0</span>.5e10 -maxEmIters <span class=\"m\">5</span> <span class=\"nv\">$@</span>\n</pre></div>", "type": "rendered"}, "created_on": "2014-06-10T15:57:36.075127+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2014-06-10T16:09:17.196309+00:00", "type": "issue_comment", "id": 10643695}