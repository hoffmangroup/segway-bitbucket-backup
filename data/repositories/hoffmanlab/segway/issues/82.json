{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/segway/issues/82/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/segway/issues/82.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/82/watch"}, "comments": {"href": "data/repositories/hoffmanlab/segway/issues/82/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/82/filenames-in-traintab-should-all-be"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/82/vote"}}, "reporter": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "title": "Filenames in train.tab should all be relative to the train directory", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Currently in train.tab, filenames are written out relative the working directory from where segway is run from.\r\n\r\nIf the train directory is renamed or moved somewhere, or the working directory has changed, identify will fail to run:\r\n\r\ne.g. where DOHH2_traindir was changed to DOHH2_10L_10R_traindir\r\n```shell\r\neric.roberts@mordor: ~/labdir/segway-protocol/outputs/DOHH2_10L_10R_traindir\r\n$ cat train.tab\r\nname    value\r\ndistribution    asinh_norm\r\ndont_train_filename     outputs/DOHH2_traindir/auxiliary/dont_train.list\r\ninput_master_filename   outputs/DOHH2_traindir/params/input.master\r\nlen_seg_strength        0\r\nnum_segs        10\r\nnum_subsegs     1\r\noutput_label    seg\r\nparams_filename outputs/DOHH2_traindir/params/params.params\r\nresolution      10\r\nruler_scale     100\r\nseg_table_filename\r\nsegtransition_weight_scale      1.0\r\nstructure_filename      outputs/DOHH2_traindir/segway.str\r\n```", "markup": "markdown", "html": "<p>Currently in train.tab, filenames are written out relative the working directory from where segway is run from.</p>\n<p>If the train directory is renamed or moved somewhere, or the working directory has changed, identify will fail to run:</p>\n<p>e.g. where DOHH2_traindir was changed to DOHH2_10L_10R_traindir</p>\n<div class=\"codehilite language-shell\"><pre><span></span>eric.roberts@mordor: ~/labdir/segway-protocol/outputs/DOHH2_10L_10R_traindir\n$ cat train.tab\nname    value\ndistribution    asinh_norm\ndont_train_filename     outputs/DOHH2_traindir/auxiliary/dont_train.list\ninput_master_filename   outputs/DOHH2_traindir/params/input.master\nlen_seg_strength        <span class=\"m\">0</span>\nnum_segs        <span class=\"m\">10</span>\nnum_subsegs     <span class=\"m\">1</span>\noutput_label    seg\nparams_filename outputs/DOHH2_traindir/params/params.params\nresolution      <span class=\"m\">10</span>\nruler_scale     <span class=\"m\">100</span>\nseg_table_filename\nsegtransition_weight_scale      <span class=\"m\">1</span>.0\nstructure_filename      outputs/DOHH2_traindir/segway.str\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "state": "new", "version": null, "edited_on": null, "created_on": "2016-09-07T14:59:05.222323+00:00", "milestone": null, "updated_on": "2016-09-07T14:59:05.222323+00:00", "type": "issue", "id": 82}