{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/segway/issues/97/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/segway/issues/97.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/97/watch"}, "comments": {"href": "data/repositories/hoffmanlab/segway/issues/97/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/97/observations-option-continues-looking-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/97/vote"}}, "reporter": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "title": "--observations option continues looking in traindir even after observations folder is separately specified", "component": null, "votes": 0, "watches": 1, "content": {"raw": "--observations option continues looking in traindir/observations even after another observations folder is separately specified. \r\n\r\nFor example, specifying --observations=traindir_old/observations/ folder results in Segway looking at traindir_old/observations/float32.list for the list of windows, but looking in traindir/observations for the corresponding windows (which is of course wrong).\r\n\r\nThis results in the following GMTK error for all jobs:\r\n\r\n\r\n```\r\n#!python\r\n\r\nBinaryFile::openSegment: Can't open '/mnt/work1/users/hoffmangroup/rachelc/2016/segway_appnote/minibatch/results/DOHH2_0.0001_1.traindir/observations/chr1.1574.float32' (in binary file '/mnt/work1/users/hoffmangroup/rachelc/2016/segway_appnote/minibatch/results_old/DOHH2_0.0001_1.traindir/observations/float32.list') for input\r\n\r\nERROR: FileSource::openSegment: failed to open segment 1574.\r\n```\r\n\r\nfor all segment numbers.\r\n\r\nTo work around this, I created my traindir/observations folder before running Segway and moved my base observations folder into it and that seemed to be fine. But looking at the documentation (which suggests the ability to use the same external observations folder with multiple runs) this doesn't seem to be intended behavior--and if it is, should be clarified.", "markup": "markdown", "html": "<p>--observations option continues looking in traindir/observations even after another observations folder is separately specified. </p>\n<p>For example, specifying --observations=traindir_old/observations/ folder results in Segway looking at traindir_old/observations/float32.list for the list of windows, but looking in traindir/observations for the corresponding windows (which is of course wrong).</p>\n<p>This results in the following GMTK error for all jobs:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">BinaryFile</span><span class=\"p\">::</span><span class=\"n\">openSegment</span><span class=\"p\">:</span> <span class=\"n\">Can</span><span class=\"s1\">&#39;t open &#39;</span><span class=\"o\">/</span><span class=\"n\">mnt</span><span class=\"o\">/</span><span class=\"n\">work1</span><span class=\"o\">/</span><span class=\"n\">users</span><span class=\"o\">/</span><span class=\"n\">hoffmangroup</span><span class=\"o\">/</span><span class=\"n\">rachelc</span><span class=\"o\">/</span><span class=\"mi\">2016</span><span class=\"o\">/</span><span class=\"n\">segway_appnote</span><span class=\"o\">/</span><span class=\"n\">minibatch</span><span class=\"o\">/</span><span class=\"n\">results</span><span class=\"o\">/</span><span class=\"n\">DOHH2_0</span><span class=\"o\">.</span><span class=\"mo\">0001</span><span class=\"n\">_1</span><span class=\"o\">.</span><span class=\"n\">traindir</span><span class=\"o\">/</span><span class=\"n\">observations</span><span class=\"o\">/</span><span class=\"n\">chr1</span><span class=\"o\">.</span><span class=\"mf\">1574.</span><span class=\"n\">float32</span><span class=\"s1\">&#39; (in binary file &#39;</span><span class=\"o\">/</span><span class=\"n\">mnt</span><span class=\"o\">/</span><span class=\"n\">work1</span><span class=\"o\">/</span><span class=\"n\">users</span><span class=\"o\">/</span><span class=\"n\">hoffmangroup</span><span class=\"o\">/</span><span class=\"n\">rachelc</span><span class=\"o\">/</span><span class=\"mi\">2016</span><span class=\"o\">/</span><span class=\"n\">segway_appnote</span><span class=\"o\">/</span><span class=\"n\">minibatch</span><span class=\"o\">/</span><span class=\"n\">results_old</span><span class=\"o\">/</span><span class=\"n\">DOHH2_0</span><span class=\"o\">.</span><span class=\"mo\">0001</span><span class=\"n\">_1</span><span class=\"o\">.</span><span class=\"n\">traindir</span><span class=\"o\">/</span><span class=\"n\">observations</span><span class=\"o\">/</span><span class=\"n\">float32</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"s1\">&#39;) for input</span>\n\n<span class=\"n\">ERROR</span><span class=\"p\">:</span> <span class=\"n\">FileSource</span><span class=\"p\">::</span><span class=\"n\">openSegment</span><span class=\"p\">:</span> <span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"nb\">open</span> <span class=\"n\">segment</span> <span class=\"mf\">1574.</span>\n</pre></div>\n\n\n<p>for all segment numbers.</p>\n<p>To work around this, I created my traindir/observations folder before running Segway and moved my base observations folder into it and that seemed to be fine. But looking at the documentation (which suggests the ability to use the same external observations folder with multiple runs) this doesn't seem to be intended behavior--and if it is, should be clarified.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2016-12-02T19:14:44.933705+00:00", "milestone": null, "updated_on": "2016-12-02T19:30:25.610104+00:00", "type": "issue", "id": 97}