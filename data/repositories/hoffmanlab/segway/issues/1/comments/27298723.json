{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/1/comments/27298723.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/1#comment-27298723"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/1.json"}}, "type": "issue", "id": 1, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Error creating input.master"}, "content": {"raw": "I found the cause of the error but I'm not certain what the solution is.\n\nIn input_master.py:\n```python\nclass InputMasterSaver(Saver):\n...\n        if self.len_seg_strength > 0:\n            dirichlet_spec = DirichletTabParamSpec(self)\n        else:\n            dirichlet_spec = \"\"\n\n\nclass DenseCPTParamSpec(TableParamSpec):\n...\n    def make_dense_cpt_segCountDown_seg_segTransition(self):  # noqa\n\n\nclass DirichletTabParamSpec(TableParamSpec):\n...\n    def make_dirichlet_table(self):\n        probs = self.make_dense_cpt_segCountDown_seg_segTransition()\n```\n\nEssentially when it tries to create the `direlecht_spec`,  DirichletTabParamSpec doesn't actually have `make_dense_cpt_segCountDown_seg_segTransition`. In fact the only place it is defined is in `DenseCPTParamSpec`. If the implementation is the same `DirichletTabParamSpec` may have meant to inherit from `DenseCPTParamSpec`. Or there is the possibility the wrong method was used here.\n\n@hoffman your feedback would be appreciated here.", "markup": "markdown", "html": "<p>I found the cause of the error but I'm not certain what the solution is.</p>\n<p>In input_master.py:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">class</span> <span class=\"nc\">InputMasterSaver</span><span class=\"p\">(</span><span class=\"n\">Saver</span><span class=\"p\">):</span>\n<span class=\"o\">...</span>\n        <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">len_seg_strength</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n            <span class=\"n\">dirichlet_spec</span> <span class=\"o\">=</span> <span class=\"n\">DirichletTabParamSpec</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">dirichlet_spec</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;&quot;</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">DenseCPTParamSpec</span><span class=\"p\">(</span><span class=\"n\">TableParamSpec</span><span class=\"p\">):</span>\n<span class=\"o\">...</span>\n    <span class=\"k\">def</span> <span class=\"nf\">make_dense_cpt_segCountDown_seg_segTransition</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>  <span class=\"c1\"># noqa</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">DirichletTabParamSpec</span><span class=\"p\">(</span><span class=\"n\">TableParamSpec</span><span class=\"p\">):</span>\n<span class=\"o\">...</span>\n    <span class=\"k\">def</span> <span class=\"nf\">make_dirichlet_table</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">probs</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">make_dense_cpt_segCountDown_seg_segTransition</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p>Essentially when it tries to create the <code>direlecht_spec</code>,  DirichletTabParamSpec doesn't actually have <code>make_dense_cpt_segCountDown_seg_segTransition</code>. In fact the only place it is defined is in <code>DenseCPTParamSpec</code>. If the implementation is the same <code>DirichletTabParamSpec</code> may have meant to inherit from <code>DenseCPTParamSpec</code>. Or there is the possibility the wrong method was used here.</p>\n<p>@hoffman your feedback would be appreciated here.</p>", "type": "rendered"}, "created_on": "2016-04-26T17:40:42.837982+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": null, "type": "issue_comment", "id": 27298723}