{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/segway/issues/118/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/segway/issues/118.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/118/watch"}, "comments": {"href": "data/repositories/hoffmanlab/segway/issues/118/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/118/test-segway_layer_bigbed-fails-due-to"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/118/vote"}}, "reporter": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "title": "Test segway_layer_bigbed fails due to difference in bigBed files", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The bigBed files differ between the test results and the touchstone. After converting both to a BED format using the UCSC util bigBedToBed, the resulting BED files are identical.\r\n\r\nIt seems like only in the first 96 bytes are a few bytes different between bigBed files:\r\n\r\n\r\n```\r\n#!bash\r\n\r\n$ diff <(xxd test-20171116.wpWt8E/segway.layered.bb) <(xxd touchstone/segway.layered.bb)\r\n1c1\r\n< 0000000: ebf2 8987 0400 0100 7604 0000 0000 0000  ........v.......\r\n---\r\n> 0000000: ebf2 8987 0400 0000 7604 0000 0000 0000  ........v.......\r\n5,6c5,6\r\n< 0000040: 401f 0000 0000 0000 5f1d 0000 0000 0000  @......._.......\r\n< 0000050: 7c1d 0000 0000 0000 0000 0000 0000 0000  |...............\r\n---\r\n> 0000040: 0000 0000 0000 0000 0000 0000 0000 0000  ................\r\n> 0000050: 0000 0000 0000 0000 0000 0000 0000 0000  ................\r\n\r\n```\r\n\r\nThis test is not run where bedToBigBed is currently installed. It's worth considering putting this binary on the build machine.\r\n\r\nIt might be worth considering comparing the output of bigBedToBed instead to compare text formats in the future.", "markup": "markdown", "html": "<p>The bigBed files differ between the test results and the touchstone. After converting both to a BED format using the UCSC util bigBedToBed, the resulting BED files are identical.</p>\n<p>It seems like only in the first 96 bytes are a few bytes different between bigBed files:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>$ diff &lt;<span class=\"o\">(</span>xxd test-20171116.wpWt8E/segway.layered.bb<span class=\"o\">)</span> &lt;<span class=\"o\">(</span>xxd touchstone/segway.layered.bb<span class=\"o\">)</span>\n1c1\n&lt; <span class=\"m\">0000000</span>: ebf2 <span class=\"m\">8987</span> <span class=\"m\">0400</span> <span class=\"m\">0100</span> <span class=\"m\">7604</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span>  ........v.......\n---\n&gt; <span class=\"m\">0000000</span>: ebf2 <span class=\"m\">8987</span> <span class=\"m\">0400</span> <span class=\"m\">0000</span> <span class=\"m\">7604</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span>  ........v.......\n<span class=\"m\">5</span>,6c5,6\n&lt; <span class=\"m\">0000040</span>: 401f <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> 5f1d <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span>  @......._.......\n&lt; <span class=\"m\">0000050</span>: 7c1d <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span>  <span class=\"p\">|</span>...............\n---\n&gt; <span class=\"m\">0000040</span>: <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span>  ................\n&gt; <span class=\"m\">0000050</span>: <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span> <span class=\"m\">0000</span>  ................\n</pre></div>\n\n\n<p>This test is not run where bedToBigBed is currently installed. It's worth considering putting this binary on the build machine.</p>\n<p>It might be worth considering comparing the output of bigBedToBed instead to compare text formats in the future.</p>", "type": "rendered"}, "assignee": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "state": "new", "version": null, "edited_on": null, "created_on": "2017-11-16T16:47:45.725015+00:00", "milestone": null, "updated_on": "2017-11-16T16:47:45.725015+00:00", "type": "issue", "id": 118}