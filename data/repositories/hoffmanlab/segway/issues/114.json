{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/segway/issues/114/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/segway/issues/114.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/114/watch"}, "comments": {"href": "data/repositories/hoffmanlab/segway/issues/114/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/114/standard-output-not-being-captured"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/114/vote"}}, "reporter": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "title": "Standard output not being captured", "component": null, "votes": 0, "watches": 2, "content": {"raw": "I noticed that standard output is no longer being captured (eg the `traindir/output/o` folder). I tested this using `simpleseg` on changeset `fd22b5d` (prior to the GMM and validation pull requests). Standard error is fine.\r\n\r\nIn particular, the files exist but are empty:\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway/test/simpleseg/test-20170626.LVZIYG/traindir/output/o/0 ]$ ll\r\ntotal 0\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.0.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.0.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.1.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.1.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.2.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.2.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.3.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.3.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.4.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.4.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:16 emt0.5.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:17 emt0.5.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:17 emt0.6.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n-rw-r--r-- 1 rachelc mhoffma1 0 Jun 26 12:17 emt0.6.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\r\n```\r\n\r\nthe touchstones seems to expect content there:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway/test/simpleseg/touchstone/traindir/output/o/0 ]$ ll\r\ntotal 56\r\n-rw-r--r-- 1 rachelc mhoffma1 172 Jun 26 12:15 emt0.0.0.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 117 Jun 26 12:15 emt0.0.bundle.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 170 Jun 26 12:15 emt0.1.0.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 117 Jun 26 12:15 emt0.1.bundle.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 170 Jun 26 12:15 emt0.2.0.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 117 Jun 26 12:15 emt0.2.bundle.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 170 Jun 26 12:15 emt0.3.0.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 117 Jun 26 12:15 emt0.3.bundle.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 170 Jun 26 12:15 emt0.4.0.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 117 Jun 26 12:15 emt0.4.bundle.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 170 Jun 26 12:15 emt0.5.0.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 117 Jun 26 12:15 emt0.5.bundle.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 170 Jun 26 12:15 emt0.6.0.traindir.(%[0-9a-f]{32}%)\r\n-rw-r--r-- 1 rachelc mhoffma1 117 Jun 26 12:15 emt0.6.bundle.traindir.(%[0-9a-f]{32}%)\r\n\r\n```\r\nbut the tests pass anyway (which may be a separate issue--it's possible that comparisons to empty return `TRUE` for some reason).\r\n\r\nAn example of an expected output is:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway/test/simpleseg/touchstone/traindir/output/o/0 ]$ cat \"emt0.0.0.traindir.(%[0-9a-f]{32}%)\"\r\nSegment 0, after Island, log(prob(evidence)) = -8715.890764, per frame =-1.089486, per numUFrams = -1.089486\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT (%[^_]+%)____\r\n\r\n```", "markup": "markdown", "html": "<p>I noticed that standard output is no longer being captured (eg the <code>traindir/output/o</code> folder). I tested this using <code>simpleseg</code> on changeset <code>fd22b5d</code> (prior to the GMM and validation pull requests). Standard error is fine.</p>\n<p>In particular, the files exist but are empty:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>rachelc <span class=\"o\">[</span> /scratch/segway/test/simpleseg/test-20170626.LVZIYG/traindir/output/o/0 <span class=\"o\">]</span>$ ll\ntotal <span class=\"m\">0</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.0.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.0.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.1.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.1.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.2.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.2.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.3.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.3.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.4.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.4.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:16 emt0.5.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:17 emt0.5.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:17 emt0.6.0.traindir.cfb56fd85a8a11e78abf989096b2d04e\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">0</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:17 emt0.6.bundle.traindir.cfb56fd85a8a11e78abf989096b2d04e\n</pre></div>\n\n\n<p>the touchstones seems to expect content there:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>rachelc <span class=\"o\">[</span> /scratch/segway/test/simpleseg/touchstone/traindir/output/o/0 <span class=\"o\">]</span>$ ll\ntotal <span class=\"m\">56</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">172</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.0.0.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">117</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.0.bundle.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">170</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.1.0.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">117</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.1.bundle.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">170</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.2.0.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">117</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.2.bundle.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">170</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.3.0.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">117</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.3.bundle.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">170</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.4.0.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">117</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.4.bundle.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">170</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.5.0.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">117</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.5.bundle.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">170</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.6.0.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n-rw-r--r-- <span class=\"m\">1</span> rachelc mhoffma1 <span class=\"m\">117</span> Jun <span class=\"m\">26</span> <span class=\"m\">12</span>:15 emt0.6.bundle.traindir.<span class=\"o\">(</span>%<span class=\"o\">[</span><span class=\"m\">0</span>-9a-f<span class=\"o\">]{</span><span class=\"m\">32</span><span class=\"o\">}</span>%<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>but the tests pass anyway (which may be a separate issue--it's possible that comparisons to empty return <code>TRUE</code> for some reason).</p>\n<p>An example of an expected output is:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>rachelc <span class=\"o\">[</span> /scratch/segway/test/simpleseg/touchstone/traindir/output/o/0 <span class=\"o\">]</span>$ cat <span class=\"s2\">&quot;emt0.0.0.traindir.(%[0-9a-f]{32}%)&quot;</span>\nSegment <span class=\"m\">0</span>, after Island, log<span class=\"o\">(</span>prob<span class=\"o\">(</span>evidence<span class=\"o\">))</span> <span class=\"o\">=</span> -8715.890764, per <span class=\"nv\">frame</span> <span class=\"o\">=</span>-1.089486, per <span class=\"nv\">numUFrams</span> <span class=\"o\">=</span> -1.089486\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS <span class=\"m\">0</span> AT <span class=\"o\">(</span>%<span class=\"o\">[</span>^_<span class=\"o\">]</span>+%<span class=\"o\">)</span>____\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-06-26T16:30:20.846314+00:00", "milestone": null, "updated_on": "2018-03-02T19:24:30.875764+00:00", "type": "issue", "id": 114}