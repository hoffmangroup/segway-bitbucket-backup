{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34/comments/18858325.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/34#comment-18858325"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34.json"}}, "type": "issue", "id": 34, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Explicitly limit the number of current running segway jobs."}, "content": {"raw": "Setting this kind of policy is mainly the job of the cluster system. Within that policy, we should use the cluster resources as much as possible. Keeping machines idle so that people can submit new jobs without waiting is wasteful. If you have a specific concern about your use, please email segway-internal.\n\nThat said, we already have a system that limits how many jobs are submitted at once in `segway.cluster.__init__`, it just isn't very easy to modify. This can be a low-priority enhancement.", "markup": "markdown", "html": "<p>Setting this kind of policy is mainly the job of the cluster system. Within that policy, we should use the cluster resources as much as possible. Keeping machines idle so that people can submit new jobs without waiting is wasteful. If you have a specific concern about your use, please email segway-internal.</p>\n<p>That said, we already have a system that limits how many jobs are submitted at once in <code>segway.cluster.__init__</code>, it just isn't very easy to modify. This can be a low-priority enhancement.</p>", "type": "rendered"}, "created_on": "2015-06-16T18:40:28.098197+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 18858325}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34/comments/18858346.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/34#comment-18858346"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34.json"}}, "type": "issue", "id": 34, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Explicitly limit the number of current running segway jobs."}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2015-06-16T18:41:24.168059+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 18858346}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34/comments/18859909.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/34#comment-18859909"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34.json"}}, "type": "issue", "id": 34, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Explicitly limit the number of current running segway jobs."}, "content": {"raw": "The problems is, some large jobs from others would have to wait for a really long time, mostly until segway start to run instance bundle jobs (cos otherwise it is very likely that segway could fill the cluster with training job), which would be on average an hour.\n\nBesides, from segway/cluster/\\_\\_init\\_\\_.py\n\n```\n#!python\n\n# these settings limit job queueing to 360 at once\n```\n\n\nreally? \n\n\n```\n#!SHELL\n\n[stamaki@mordor:~/groupfile/xzeng/runtime/results/20150612-1019]$ qstat -s r | grep -v \".93.\" | grep emt | wc -l\n422\n```\n\n\nBesides according to #28 each segway job currently only takes about one core, \nI've seen lots of situations where segway use up to 450 cores.\n\nWas it like 360 per instance?", "markup": "markdown", "html": "<p>The problems is, some large jobs from others would have to wait for a really long time, mostly until segway start to run instance bundle jobs (cos otherwise it is very likely that segway could fill the cluster with training job), which would be on average an hour.</p>\n<p>Besides, from segway/cluster/__init__.py</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"c1\"># these settings limit job queueing to 360 at once</span>\n</pre></div>\n\n\n<p>really? </p>\n<div class=\"codehilite language-shell\"><pre><span></span><span class=\"o\">[</span>stamaki@mordor:~/groupfile/xzeng/runtime/results/20150612-1019<span class=\"o\">]</span>$ qstat -s r <span class=\"p\">|</span> grep -v <span class=\"s2\">&quot;.93.&quot;</span> <span class=\"p\">|</span> grep emt <span class=\"p\">|</span> wc -l\n<span class=\"m\">422</span>\n</pre></div>\n\n\n<p>Besides according to <a href=\"#!/hoffmanlab/segway/issues/28/parallelism-on-a-cluster-given-a-number-of\" rel=\"nofollow\" title=\"Parallelism on a cluster given a number of cores\" class=\"ap-connect-link\">#28</a> each segway job currently only takes about one core, \nI've seen lots of situations where segway use up to 450 cores.</p>\n<p>Was it like 360 per instance?</p>", "type": "rendered"}, "created_on": "2015-06-16T20:12:01.319957+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "updated_on": "2015-06-16T20:15:06.156529+00:00", "type": "issue_comment", "id": 18859909}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34/comments/18864358.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/34#comment-18864358"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/issues/34.json"}}, "type": "issue", "id": 34, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "title": "Explicitly limit the number of current running segway jobs."}, "content": {"raw": "The 360 is an estimate from a calculation that seems to be inaccurate. An hour is a short time to wait in a batch queuing system. People should not expect there will be idle machines waiting for their jobs at any time (except for in debug queues).", "markup": "markdown", "html": "<p>The 360 is an estimate from a calculation that seems to be inaccurate. An hour is a short time to wait in a batch queuing system. People should not expect there will be idle machines waiting for their jobs at any time (except for in debug queues).</p>", "type": "rendered"}, "created_on": "2015-06-16T23:28:49.607819+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": null, "type": "issue_comment", "id": 18864358}], "page": 1, "size": 4}