{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/segway/issues/120/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/segway/issues/120.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/120/watch"}, "comments": {"href": "data/repositories/hoffmanlab/segway/issues/120/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/120/fatal-fdiffact1-error-when-using"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/120/vote"}}, "reporter": {"display_name": "Francis Nguyen", "uuid": "{06de6dec-2820-4695-b0e3-b8c48232677f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B06de6dec-2820-4695-b0e3-b8c48232677f%7D"}, "html": {"href": "https://bitbucket.org/%7B06de6dec-2820-4695-b0e3-b8c48232677f%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:503caffc-22fe-47ba-8947-a81aec8f3bd6/b41d6226-076e-4353-8327-c08d1a612552/128"}}, "nickname": "Francis Nguyen", "type": "user", "account_id": "557058:503caffc-22fe-47ba-8947-a81aec8f3bd6"}, "title": "Fatal fdiffact1 error when using --semisupervised and --validation-coords together", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When running ```segway train``` with ```--semisupervised``` and ```--validation-coords=<x>``` together, segway will submit jobs, but then fail with the following error:\r\n\r\n```\r\nERROR: observation file 1 needs an -fdiffact1 that truncates (ts, te) or expands (rf, rl, se) because the observation files have different lengths for segment 0. All files must be truncated to 5 frames or expanded to 10 frames.\r\n\r\nERROR: observation file 1 needs an -fdiffact1 that truncates (ts, te) or expands (rf, rl, se) because the observation files have different lengths for segment 0. All files must be truncated to 5 frames or expanded to 10 frames.\r\n```\r\n\r\nThis error can be replicated by taking the simplesemisupervised example in ```test/semisupervised```, adding the line ```--validation-coords=\"../validate-coords.bed\" \\``` after line 32 of ```run.sh```, and creating a ```validate-coords.bed``` file in that directory, with contents:\r\n\r\n```\r\nchr1\t1000\t1100\r\n```", "markup": "markdown", "html": "<p>When running <code>segway train</code> with <code>--semisupervised</code> and <code>--validation-coords=&lt;x&gt;</code> together, segway will submit jobs, but then fail with the following error:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">observation</span> <span class=\"n\">file</span> <span class=\"mi\">1</span> <span class=\"n\">needs</span> <span class=\"n\">an</span> <span class=\"o\">-</span><span class=\"n\">fdiffact1</span> <span class=\"n\">that</span> <span class=\"n\">truncates</span> <span class=\"o\">(</span><span class=\"n\">ts</span><span class=\"o\">,</span> <span class=\"n\">te</span><span class=\"o\">)</span> <span class=\"n\">or</span> <span class=\"n\">expands</span> <span class=\"o\">(</span><span class=\"n\">rf</span><span class=\"o\">,</span> <span class=\"n\">rl</span><span class=\"o\">,</span> <span class=\"n\">se</span><span class=\"o\">)</span> <span class=\"n\">because</span> <span class=\"n\">the</span> <span class=\"n\">observation</span> <span class=\"n\">files</span> <span class=\"n\">have</span> <span class=\"n\">different</span> <span class=\"n\">lengths</span> <span class=\"k\">for</span> <span class=\"n\">segment</span> <span class=\"mi\">0</span><span class=\"o\">.</span> <span class=\"n\">All</span> <span class=\"n\">files</span> <span class=\"n\">must</span> <span class=\"n\">be</span> <span class=\"n\">truncated</span> <span class=\"n\">to</span> <span class=\"mi\">5</span> <span class=\"n\">frames</span> <span class=\"n\">or</span> <span class=\"n\">expanded</span> <span class=\"n\">to</span> <span class=\"mi\">10</span> <span class=\"n\">frames</span><span class=\"o\">.</span>\n\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">observation</span> <span class=\"n\">file</span> <span class=\"mi\">1</span> <span class=\"n\">needs</span> <span class=\"n\">an</span> <span class=\"o\">-</span><span class=\"n\">fdiffact1</span> <span class=\"n\">that</span> <span class=\"n\">truncates</span> <span class=\"o\">(</span><span class=\"n\">ts</span><span class=\"o\">,</span> <span class=\"n\">te</span><span class=\"o\">)</span> <span class=\"n\">or</span> <span class=\"n\">expands</span> <span class=\"o\">(</span><span class=\"n\">rf</span><span class=\"o\">,</span> <span class=\"n\">rl</span><span class=\"o\">,</span> <span class=\"n\">se</span><span class=\"o\">)</span> <span class=\"n\">because</span> <span class=\"n\">the</span> <span class=\"n\">observation</span> <span class=\"n\">files</span> <span class=\"n\">have</span> <span class=\"n\">different</span> <span class=\"n\">lengths</span> <span class=\"k\">for</span> <span class=\"n\">segment</span> <span class=\"mi\">0</span><span class=\"o\">.</span> <span class=\"n\">All</span> <span class=\"n\">files</span> <span class=\"n\">must</span> <span class=\"n\">be</span> <span class=\"n\">truncated</span> <span class=\"n\">to</span> <span class=\"mi\">5</span> <span class=\"n\">frames</span> <span class=\"n\">or</span> <span class=\"n\">expanded</span> <span class=\"n\">to</span> <span class=\"mi\">10</span> <span class=\"n\">frames</span><span class=\"o\">.</span>\n</pre></div>\n\n\n<p>This error can be replicated by taking the simplesemisupervised example in <code>test/semisupervised</code>, adding the line <code>--validation-coords=\"../validate-coords.bed\" \\</code> after line 32 of <code>run.sh</code>, and creating a <code>validate-coords.bed</code> file in that directory, with contents:</p>\n<div class=\"codehilite\"><pre><span></span>chr1    1000    1100\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-01-03T18:50:36.507045+00:00", "milestone": null, "updated_on": "2018-01-03T20:20:17.282035+00:00", "type": "issue", "id": 120}