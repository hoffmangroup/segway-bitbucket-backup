{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/segway/issues/131/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/segway/issues/131.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/131/watch"}, "comments": {"href": "data/repositories/hoffmanlab/segway/issues/131/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/segway/issues/131/touchstone-exists-for-simplereverse-but-is"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/issues/131/vote"}}, "reporter": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "title": "Touchstone exists for simplereverse but is never checked", "component": null, "votes": 0, "watches": 1, "content": {"raw": "In the test case `simplereverse`, a touchstone directory exists but it seems the last time it was updated was 2012 and is not actually part of the current test suite.\r\n\r\nSpecifically, in the `simplereverse` `run.sh` script, there is only the command to run train/identify for segway. The program does not to enter the run directory and compare with the touchstone afterwards:\r\n\r\n```\r\n#!python\r\n\r\n...\r\n\r\n# seed from python -c \"import random; print random.randrange(2**32)\"\r\nSEGWAY_RAND_SEED=4014068903 segway \"$cluster_arg\" \\\r\n    --include-coords=\"../include-coords.bed\" \\\r\n    --track=testtrack1A,testtrack1B --track=testtrack2A,testtrack2B \\\r\n    --num-labels=4 --reverse-world=1 \\\r\n    train \"../simpleconcat.genomedata\" traindir\r\n\r\nsegway \"$cluster_arg\" --include-coords=\"../include-coords.bed\" \\\r\n    identify \"../simpleconcat.genomedata\" traindir identifydir\r\n\r\n```", "markup": "markdown", "html": "<p>In the test case <code>simplereverse</code>, a touchstone directory exists but it seems the last time it was updated was 2012 and is not actually part of the current test suite.</p>\n<p>Specifically, in the <code>simplereverse</code> <code>run.sh</code> script, there is only the command to run train/identify for segway. The program does not to enter the run directory and compare with the touchstone afterwards:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"o\">...</span>\n\n<span class=\"c1\"># seed from python -c &quot;import random; print random.randrange(2**32)&quot;</span>\n<span class=\"n\">SEGWAY_RAND_SEED</span><span class=\"o\">=</span><span class=\"mi\">4014068903</span> <span class=\"n\">segway</span> <span class=\"s2\">&quot;$cluster_arg&quot;</span> \\\n    <span class=\"o\">--</span><span class=\"n\">include</span><span class=\"o\">-</span><span class=\"n\">coords</span><span class=\"o\">=</span><span class=\"s2\">&quot;../include-coords.bed&quot;</span> \\\n    <span class=\"o\">--</span><span class=\"n\">track</span><span class=\"o\">=</span><span class=\"n\">testtrack1A</span><span class=\"p\">,</span><span class=\"n\">testtrack1B</span> <span class=\"o\">--</span><span class=\"n\">track</span><span class=\"o\">=</span><span class=\"n\">testtrack2A</span><span class=\"p\">,</span><span class=\"n\">testtrack2B</span> \\\n    <span class=\"o\">--</span><span class=\"n\">num</span><span class=\"o\">-</span><span class=\"n\">labels</span><span class=\"o\">=</span><span class=\"mi\">4</span> <span class=\"o\">--</span><span class=\"n\">reverse</span><span class=\"o\">-</span><span class=\"n\">world</span><span class=\"o\">=</span><span class=\"mi\">1</span> \\\n    <span class=\"n\">train</span> <span class=\"s2\">&quot;../simpleconcat.genomedata&quot;</span> <span class=\"n\">traindir</span>\n\n<span class=\"n\">segway</span> <span class=\"s2\">&quot;$cluster_arg&quot;</span> <span class=\"o\">--</span><span class=\"n\">include</span><span class=\"o\">-</span><span class=\"n\">coords</span><span class=\"o\">=</span><span class=\"s2\">&quot;../include-coords.bed&quot;</span> \\\n    <span class=\"n\">identify</span> <span class=\"s2\">&quot;../simpleconcat.genomedata&quot;</span> <span class=\"n\">traindir</span> <span class=\"n\">identifydir</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-12-13T21:09:12.348783+00:00", "milestone": null, "updated_on": "2018-12-13T21:09:12.348783+00:00", "type": "issue", "id": 131}