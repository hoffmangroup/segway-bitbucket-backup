{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/8943601.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-8943601"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Before getting into code specifics, I have a few questions:\n\nIs this pull request regarding the mixture of Gaussians that GMTK now supports? What is the minimum GMTK version required for this to work properly?\n\nPresumably these changes also require test case changes since it changes the GMTK input files. Have these changes run against the built in testcases? Is there any to way to write a testcase that proves that the changes have a predicted effect?", "markup": "markdown", "html": "<p>Before getting into code specifics, I have a few questions:</p>\n<p>Is this pull request regarding the mixture of Gaussians that GMTK now supports? What is the minimum GMTK version required for this to work properly?</p>\n<p>Presumably these changes also require test case changes since it changes the GMTK input files. Have these changes run against the built in testcases? Is there any to way to write a testcase that proves that the changes have a predicted effect?</p>", "type": "rendered"}, "created_on": "2015-08-10T13:43:20.472679+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2015-08-10T13:43:20.481194+00:00", "type": "pullrequest_comment", "id": 8943601}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/8944198.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-8944198"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Preferably, without any of the new options specified, this should not affect any of the results. Some changes to structure of model/parameter files are OK as long as the results of inference are not affected.", "markup": "markdown", "html": "<p>Preferably, without any of the new options specified, this should not affect any of the results. Some changes to structure of model/parameter files are OK as long as the results of inference are not affected.</p>", "type": "rendered"}, "created_on": "2015-08-10T13:57:42.992480+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2015-08-10T13:57:43.001068+00:00", "type": "pullrequest_comment", "id": 8944198}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/8950195.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-8950195"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "I have been using GMTK version 0.1, I'm nut sure which is the minimum GMTK version. However, there is a bug in GMTK  that sometimes causes the training to stop. I explained it here in this ticket, http://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/563. I fixed the bug by editing GMTK.\n\nFor testing, I compared the results from test/simpleseg/run.sh from an unedited segway version to the segway-mixtures version. You can also look at the traindir/params/* files to look if it GMTK is actually training with a mixtures of Gaussians and to check if the means look reasonable.", "markup": "markdown", "html": "<p>I have been using GMTK version 0.1, I'm nut sure which is the minimum GMTK version. However, there is a bug in GMTK  that sometimes causes the training to stop. I explained it here in this ticket, <a href=\"http://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/563\" rel=\"nofollow\" class=\"ap-connect-link\">http://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/563</a>. I fixed the bug by editing GMTK.</p>\n<p>For testing, I compared the results from test/simpleseg/run.sh from an unedited segway version to the segway-mixtures version. You can also look at the traindir/params/* files to look if it GMTK is actually training with a mixtures of Gaussians and to check if the means look reasonable.</p>", "type": "rendered"}, "created_on": "2015-08-10T16:07:10.962843+00:00", "user": {"display_name": "Oscar Rodriguez", "uuid": "{322669aa-2567-4515-acfe-c7d91df3c397}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D"}, "html": {"href": "https://bitbucket.org/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1cd8e98ed4d095bfa5257f5a9a5b4441d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsOR-0.png"}}, "nickname": "oscar01", "type": "user", "account_id": "557058:a1495dc2-21b9-4506-9ea3-42b1ad28b714"}, "updated_on": "2015-08-10T16:07:11.028245+00:00", "type": "pullrequest_comment", "id": 8950195}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/8950951.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-8950951"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "If you're using version 0.1 suffice to say it's likely no one is going to be using an even older version.\n\nThe bug looks like it was added to the backlog and hasn't been merged yet. Does anyone know if it's actually been merged in later releases? We can't really expect users to modify the source of GMTK to use this new feature.\n\n@hoffman what do you think about the existing bug? Do you also think that this warrants a new test case for the feature itself?\n\n", "markup": "markdown", "html": "<p>If you're using version 0.1 suffice to say it's likely no one is going to be using an even older version.</p>\n<p>The bug looks like it was added to the backlog and hasn't been merged yet. Does anyone know if it's actually been merged in later releases? We can't really expect users to modify the source of GMTK to use this new feature.</p>\n<p>@hoffman what do you think about the existing bug? Do you also think that this warrants a new test case for the feature itself?</p>", "type": "rendered"}, "created_on": "2015-08-10T16:25:18.760177+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2015-08-10T16:25:18.776488+00:00", "type": "pullrequest_comment", "id": 8950951}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/8958271.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-8958271"}}, "deleted": true, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2015-08-10T20:28:43.435528+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "updated_on": "2015-08-21T15:53:30.086441+00:00", "type": "pullrequest_comment", "id": 8958271}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9107620.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/oscar01/segway-mixture:1034aa2c0b0d..3ee0a658c31f?path=segway%2Fobservations.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9107620"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Apparently there is a problem with how you call the save_window functionality.\n\nAt line 589, it is :\n\n`save_window(float_filepath, int_filepath, continuous_cells, seq_cells, supervision_cells, tracks_means, tracks_vars)`\n\nHowever here you define it as \n\n`save_window(self, float_filename, int_filename, float_data,tracks_means, tracks_vars, seq_data=None, supervision_data=None)`\n\nThis doesn't seems quite right, tracks_means and tracks_vars should be move to the end of the function.\n\nI think this has cause some of my trouble can't run it in semi-supervised model. Although I am not sure if this problem also affect unsupervised mode.\n\n\n\n@oscar01 Would you mind take a look into that?\n\n@ericr86 I realized we should not have `blablabla=None` everywhere in the function parameters. \nThere has to be a way to let us realized when we pass the wrong parameter. ", "markup": "markdown", "html": "<p>Apparently there is a problem with how you call the save_window functionality.</p>\n<p>At line 589, it is :</p>\n<p><code>save_window(float_filepath, int_filepath, continuous_cells, seq_cells, supervision_cells, tracks_means, tracks_vars)</code></p>\n<p>However here you define it as </p>\n<p><code>save_window(self, float_filename, int_filename, float_data,tracks_means, tracks_vars, seq_data=None, supervision_data=None)</code></p>\n<p>This doesn't seems quite right, tracks_means and tracks_vars should be move to the end of the function.</p>\n<p>I think this has cause some of my trouble can't run it in semi-supervised model. Although I am not sure if this problem also affect unsupervised mode.</p>\n<p>@oscar01 Would you mind take a look into that?</p>\n<p>@ericr86 I realized we should not have <code>blablabla=None</code> everywhere in the function parameters. \nThere has to be a way to let us realized when we pass the wrong parameter. </p>", "type": "rendered"}, "created_on": "2015-08-14T17:37:30.585127+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {"to": null, "from": 443, "path": "segway/observations.py"}, "updated_on": "2015-08-14T17:46:35.967292+00:00", "type": "pullrequest_comment", "id": 9107620}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9116966.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/oscar01/segway-mixture:None..None?path=segway%2Fobservations.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9116966"}}, "parent": {"id": 9107620, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9107620.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9107620"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Thanks for catching that error, I fixed it.", "markup": "markdown", "html": "<p>Thanks for catching that error, I fixed it.</p>", "type": "rendered"}, "created_on": "2015-08-15T16:37:23.955740+00:00", "user": {"display_name": "Oscar Rodriguez", "uuid": "{322669aa-2567-4515-acfe-c7d91df3c397}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D"}, "html": {"href": "https://bitbucket.org/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1cd8e98ed4d095bfa5257f5a9a5b4441d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsOR-0.png"}}, "nickname": "oscar01", "type": "user", "account_id": "557058:a1495dc2-21b9-4506-9ea3-42b1ad28b714"}, "inline": {"to": null, "from": null, "path": "segway/observations.py"}, "updated_on": "2015-08-15T16:37:24.009266+00:00", "type": "pullrequest_comment", "id": 9116966}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9121067.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/oscar01/segway-mixture:1034aa2c0b0d..3ee0a658c31f?path=segway%2Fobservations.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9121067"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Since `_save_window` is modified, `task.py` is also affected. This file has to be changed, otherwise segway identify jobs which rely on it will always fail.\n\nThis may involved modified `run.py` to work with zscore. Currently `task.py` i.e. `segway-task` is called without track means and track var and a tag for wether zscore is enabled or not. ", "markup": "markdown", "html": "<p>Since <code>_save_window</code> is modified, <code>task.py</code> is also affected. This file has to be changed, otherwise segway identify jobs which rely on it will always fail.</p>\n<p>This may involved modified <code>run.py</code> to work with zscore. Currently <code>task.py</code> i.e. <code>segway-task</code> is called without track means and track var and a tag for wether zscore is enabled or not. </p>", "type": "rendered"}, "created_on": "2015-08-16T20:08:17.442127+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {"to": null, "from": 258, "path": "segway/observations.py"}, "updated_on": "2015-08-16T20:12:07.912297+00:00", "type": "pullrequest_comment", "id": 9121067}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9151642.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/oscar01/segway-mixture:None..None?path=segway%2Fobservations.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9151642"}}, "parent": {"id": 9121067, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9121067.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9121067"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "I fixed the placement of the _save_window arguments. The _save_window call from task.py will now work.The only other place _save_window is called is in save_window(), and I changed the argument placements there too. ", "markup": "markdown", "html": "<p>I fixed the placement of the _save_window arguments. The _save_window call from task.py will now work.The only other place _save_window is called is in save_window(), and I changed the argument placements there too. </p>", "type": "rendered"}, "created_on": "2015-08-17T20:56:59.755250+00:00", "user": {"display_name": "Oscar Rodriguez", "uuid": "{322669aa-2567-4515-acfe-c7d91df3c397}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D"}, "html": {"href": "https://bitbucket.org/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1cd8e98ed4d095bfa5257f5a9a5b4441d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsOR-0.png"}}, "nickname": "oscar01", "type": "user", "account_id": "557058:a1495dc2-21b9-4506-9ea3-42b1ad28b714"}, "inline": {"to": null, "from": null, "path": "segway/observations.py"}, "updated_on": "2015-08-17T20:56:59.876489+00:00", "type": "pullrequest_comment", "id": 9151642}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9151821.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/oscar01/segway-mixture:None..None?path=segway%2Fobservations.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9151821"}}, "parent": {"id": 9151642, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9151642.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9151642"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Thanks but I am not entirely sure if that's a good way to fix it....\n\nCorrect me if I am wrong. But the zscore your implement basically squeeze the track data onto the standard normal distribution N(0,1). And then you learn parameter based on the data after the zscore transformation.\n\n`run_posterior_save_bed` in `task.py` belongs to the identification part where they use the best parameter find in training to calculate the best possible path. So a corresponding zscore transformation have to be done also for `run_posterior_save_bed` in identification task if zscore is enabled in training, otherwise data read in gmtkViterbi would be different from those in gmtkEMTrain which will cause trouble. This means `task.py` should be able to send parameters related to zscore/trackmeans/trackvar to this function.\n\n", "markup": "markdown", "html": "<p>Thanks but I am not entirely sure if that's a good way to fix it....</p>\n<p>Correct me if I am wrong. But the zscore your implement basically squeeze the track data onto the standard normal distribution N(0,1). And then you learn parameter based on the data after the zscore transformation.</p>\n<p><code>run_posterior_save_bed</code> in <code>task.py</code> belongs to the identification part where they use the best parameter find in training to calculate the best possible path. So a corresponding zscore transformation have to be done also for <code>run_posterior_save_bed</code> in identification task if zscore is enabled in training, otherwise data read in gmtkViterbi would be different from those in gmtkEMTrain which will cause trouble. This means <code>task.py</code> should be able to send parameters related to zscore/trackmeans/trackvar to this function.</p>", "type": "rendered"}, "created_on": "2015-08-17T21:06:17.226363+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {"to": null, "from": null, "path": "segway/observations.py"}, "updated_on": "2015-08-17T21:07:52.889236+00:00", "type": "pullrequest_comment", "id": 9151821}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9152834.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/oscar01/segway-mixture:None..None?path=segway%2Fobservations.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9152834"}}, "parent": {"id": 9151821, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9151821.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9151821"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Oh, I forgot to upload the edited task.py in this Segway version! During training in my Segway version, I save the mean and vars of arcsinh data in write() in observations.py in two files. Then during the identify stage, I read from this files in run_viterbi_save_bed and run_posterior_save_bed in task.py and zscore transform the data.\n\nI'll set it up so that if those two files exist then the zscore option was selected during training and I'll zscore normalize during identify. I'll upload the edited task.py as soon as possible.", "markup": "markdown", "html": "<p>Oh, I forgot to upload the edited task.py in this Segway version! During training in my Segway version, I save the mean and vars of arcsinh data in write() in observations.py in two files. Then during the identify stage, I read from this files in run_viterbi_save_bed and run_posterior_save_bed in task.py and zscore transform the data.</p>\n<p>I'll set it up so that if those two files exist then the zscore option was selected during training and I'll zscore normalize during identify. I'll upload the edited task.py as soon as possible.</p>", "type": "rendered"}, "created_on": "2015-08-17T21:53:30.881645+00:00", "user": {"display_name": "Oscar Rodriguez", "uuid": "{322669aa-2567-4515-acfe-c7d91df3c397}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D"}, "html": {"href": "https://bitbucket.org/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1cd8e98ed4d095bfa5257f5a9a5b4441d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsOR-0.png"}}, "nickname": "oscar01", "type": "user", "account_id": "557058:a1495dc2-21b9-4506-9ea3-42b1ad28b714"}, "inline": {"to": null, "from": null, "path": "segway/observations.py"}, "updated_on": "2015-08-17T21:53:31.008507+00:00", "type": "pullrequest_comment", "id": 9152834}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9150276.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9150276"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "It is worth noting that @Tamaki_Sakura could not duplicate the GMTK bug listed above with GMTK 1.2.0.", "markup": "markdown", "html": "<p>It is worth noting that @Tamaki_Sakura could not duplicate the GMTK bug listed above with GMTK 1.2.0.</p>", "type": "rendered"}, "created_on": "2015-08-17T20:02:26.351138+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2015-08-17T20:02:26.375839+00:00", "type": "pullrequest_comment", "id": 9150276}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9150434.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9150434"}}, "parent": {"id": 9150276, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9150276.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9150276"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "To Clarify, we are refering to http://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/563\n\nI tried GMTK 1.2.0 for both Training and Identification (with a small modification however since the current code). It passes simpleseg test (in the sense that parameter it generates can be explained to be the same).\nI also tired GMTK 1.1.1 for Training, so far no error report.\n\nAll work fine.", "markup": "markdown", "html": "<p>To Clarify, we are refering to <a href=\"http://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/563\" rel=\"nofollow\" class=\"ap-connect-link\">http://gmtk-trac.bitnamiapp.com/trac/gmtk/ticket/563</a></p>\n<p>I tried GMTK 1.2.0 for both Training and Identification (with a small modification however since the current code). It passes simpleseg test (in the sense that parameter it generates can be explained to be the same).\nI also tired GMTK 1.1.1 for Training, so far no error report.</p>\n<p>All work fine.</p>", "type": "rendered"}, "created_on": "2015-08-17T20:08:29.194086+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "updated_on": "2015-08-17T20:11:00.266501+00:00", "type": "pullrequest_comment", "id": 9150434}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9150539.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9150539"}}, "parent": {"id": 9150434, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9150434.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9150434"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "OK, maybe we don't have to worry about that problem then.", "markup": "markdown", "html": "<p>OK, maybe we don't have to worry about that problem then.</p>", "type": "rendered"}, "created_on": "2015-08-17T20:12:42.190209+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2015-08-17T20:12:42.196283+00:00", "type": "pullrequest_comment", "id": 9150539}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9221231.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9221231"}}, "parent": {"id": 9150539, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9150539.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9150539"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "The problem still exists, you have to run it for a while to see it present. For me it's during the 27 round.\n\nIt's doesn't make sense why it didn't appears until round 27.... ", "markup": "markdown", "html": "<p>The problem still exists, you have to run it for a while to see it present. For me it's during the 27 round.</p>\n<p>It's doesn't make sense why it didn't appears until round 27.... </p>", "type": "rendered"}, "created_on": "2015-08-19T17:24:23.453846+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "updated_on": "2015-08-19T17:24:34.330476+00:00", "type": "pullrequest_comment", "id": 9221231}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9221390.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9221390"}}, "parent": {"id": 9221231, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9221231.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9221231"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "It was the same situation for some of our runs before we edited GMTK.", "markup": "markdown", "html": "<p>It was the same situation for some of our runs before we edited GMTK.</p>", "type": "rendered"}, "created_on": "2015-08-19T17:29:40.258336+00:00", "user": {"display_name": "Oscar Rodriguez", "uuid": "{322669aa-2567-4515-acfe-c7d91df3c397}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D"}, "html": {"href": "https://bitbucket.org/%7B322669aa-2567-4515-acfe-c7d91df3c397%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1cd8e98ed4d095bfa5257f5a9a5b4441d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsOR-0.png"}}, "nickname": "oscar01", "type": "user", "account_id": "557058:a1495dc2-21b9-4506-9ea3-42b1ad28b714"}, "updated_on": "2015-08-19T17:29:40.311196+00:00", "type": "pullrequest_comment", "id": 9221390}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/9221876.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/oscar01/segway-mixture:1034aa2c0b0d..3ee0a658c31f?path=segway%2Frun.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-9221876"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "Oh, btw, this version can't run `segway --help command`. It throw the following error\n\n```\nTraceback (most recent call last):\n  File \"/users/xzeng/.local/bin/segway\", line 9, in <module>\n    load_entry_point('segway==1.2.3.dev0', 'console_scripts', 'segway')()\n  File \"/users/xzeng/.local/lib/python2.7/site-packages/segway-1.2.3.dev0-py2.7.egg/segway/run.py\", line 2604, in main\n    options, args = parse_options(args)\n  File \"/users/xzeng/.local/lib/python2.7/site-packages/segway-1.2.3.dev0-py2.7.egg/segway/run.py\", line 2589, in parse_options\n    options, args = parser.parse_args(args)\n  File \"/scratch/opt/python-2.7.9/lib/python2.7/optparse.py\", line 1400, in parse_args\n    stop = self._process_args(largs, rargs, values)\n  File \"/scratch/opt/python-2.7.9/lib/python2.7/optparse.py\", line 1444, in _process_args\n    self._process_short_opts(rargs, values)\n  File \"/scratch/opt/python-2.7.9/lib/python2.7/optparse.py\", line 1551, in _process_short_opts\n    option.process(opt, value, values, self)\n  File \"build/bdist.linux-x86_64/egg/optplus/__init__.py\", line 121, in process\n  File \"/scratch/opt/python-2.7.9/lib/python2.7/optparse.py\", line 789, in process\n    self.action, self.dest, opt, value, values, parser)\n  File \"build/bdist.linux-x86_64/egg/optplus/__init__.py\", line 143, in take_action\n  File \"/scratch/opt/python-2.7.9/lib/python2.7/optparse.py\", line 811, in take_action\n    parser.print_help()\n  File \"/scratch/opt/python-2.7.9/lib/python2.7/optparse.py\", line 1670, in print_help\n    file.write(self.format_help().encode(encoding, \"replace\"))\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 4039: ordinal not in range(128)\n```\n\nI think it has to do with this line, `\u201cfloored\u201d` here you use is \\u201d, change to the regular `\"floored\"` (\\u0022)", "markup": "markdown", "html": "<p>Oh, btw, this version can't run <code>segway --help command</code>. It throw the following error</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;/users/xzeng/.local/bin/segway&quot;, line 9, in &lt;module&gt;\n    load_entry_point(&#39;segway==1.2.3.dev0&#39;, &#39;console_scripts&#39;, &#39;segway&#39;)()\n  File &quot;/users/xzeng/.local/lib/python2.7/site-packages/segway-1.2.3.dev0-py2.7.egg/segway/run.py&quot;, line 2604, in main\n    options, args = parse_options(args)\n  File &quot;/users/xzeng/.local/lib/python2.7/site-packages/segway-1.2.3.dev0-py2.7.egg/segway/run.py&quot;, line 2589, in parse_options\n    options, args = parser.parse_args(args)\n  File &quot;/scratch/opt/python-2.7.9/lib/python2.7/optparse.py&quot;, line 1400, in parse_args\n    stop = self._process_args(largs, rargs, values)\n  File &quot;/scratch/opt/python-2.7.9/lib/python2.7/optparse.py&quot;, line 1444, in _process_args\n    self._process_short_opts(rargs, values)\n  File &quot;/scratch/opt/python-2.7.9/lib/python2.7/optparse.py&quot;, line 1551, in _process_short_opts\n    option.process(opt, value, values, self)\n  File &quot;build/bdist.linux-x86_64/egg/optplus/__init__.py&quot;, line 121, in process\n  File &quot;/scratch/opt/python-2.7.9/lib/python2.7/optparse.py&quot;, line 789, in process\n    self.action, self.dest, opt, value, values, parser)\n  File &quot;build/bdist.linux-x86_64/egg/optplus/__init__.py&quot;, line 143, in take_action\n  File &quot;/scratch/opt/python-2.7.9/lib/python2.7/optparse.py&quot;, line 811, in take_action\n    parser.print_help()\n  File &quot;/scratch/opt/python-2.7.9/lib/python2.7/optparse.py&quot;, line 1670, in print_help\n    file.write(self.format_help().encode(encoding, &quot;replace&quot;))\nUnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byte 0xe2 in position 4039: ordinal not in range(128)\n</pre></div>\n\n\n<p>I think it has to do with this line, <code>\u201cfloored\u201d</code> here you use is \\u201d, change to the regular <code>\"floored\"</code> (\\u0022)</p>", "type": "rendered"}, "created_on": "2015-08-19T17:46:12.096867+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {"to": 2563, "from": null, "path": "segway/run.py"}, "updated_on": "2015-08-19T17:46:12.105047+00:00", "type": "pullrequest_comment", "id": 9221876}, {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27/comments/12028318.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27/_/diff#comment-12028318"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/27.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/27"}}, "title": "adding mixtures"}, "content": {"raw": "In EM Step GMM does not seems to be monotone, probably still something wrong with the model parameter file (or it could be caused by the GMTK bug).\n\nA slices of the likelihood.tab file generate from a GMM run in unsupervised mode with number of mixture equal to 10:\n\n```\n\n250088095.247\n239687372.7\n220360702.149\n226079536.49\n234830654.465\n208974924.873\n242357535.321\n250842407.276\n245315479.56\n233513724.114\n270897599.486\n236239504.175\n253291147.642\n248784493.531\n245333383.665\n245939722.556\n244352997.659\n245475546.899\n248657807.336\n231862578.346\n236171485.267\n223213691.571\n214622484.918\n233226474.089\n227880696.629\n223512403.933\n```", "markup": "markdown", "html": "<p>In EM Step GMM does not seems to be monotone, probably still something wrong with the model parameter file (or it could be caused by the GMTK bug).</p>\n<p>A slices of the likelihood.tab file generate from a GMM run in unsupervised mode with number of mixture equal to 10:</p>\n<div class=\"codehilite\"><pre><span></span>250088095.247\n239687372.7\n220360702.149\n226079536.49\n234830654.465\n208974924.873\n242357535.321\n250842407.276\n245315479.56\n233513724.114\n270897599.486\n236239504.175\n253291147.642\n248784493.531\n245333383.665\n245939722.556\n244352997.659\n245475546.899\n248657807.336\n231862578.346\n236171485.267\n223213691.571\n214622484.918\n233226474.089\n227880696.629\n223512403.933\n</pre></div>", "type": "rendered"}, "created_on": "2015-11-20T17:39:39.712943+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "updated_on": "2015-11-20T17:40:42.376220+00:00", "type": "pullrequest_comment", "id": 12028318}], "page": 1, "size": 18}