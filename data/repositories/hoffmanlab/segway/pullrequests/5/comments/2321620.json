{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/5/comments/2321620.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/ajshaw/segway-hierarchical:None..None?path=segway%2Ftask.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/5/_/diff#comment-2321620"}}, "parent": {"id": 2287954, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/5/comments/2287954.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/5/_/diff#comment-2287954"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 5, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/5.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/5"}}, "title": "Code to output sublabels"}, "content": {"raw": "I think no matter what happens there should be a comment stating that the \"label\" list contains either integers or a string containing the label and sublabel.\n\nIt is also worth noting that for large values of sublabels this line will fails. For example the label/sublabel string \"0.99999999999999999\" will produce an integer output of 1. This is unrealistic but probably worth mentioning as well.\n\nI'd consider running a list comprehension like shown below or use a map and a function to extract the integer label.\n```python\n[int(x[0]) if isinstance(x, str) else x for x in labels]\n```", "markup": "markdown", "html": "<p>I think no matter what happens there should be a comment stating that the \"label\" list contains either integers or a string containing the label and sublabel.</p>\n<p>It is also worth noting that for large values of sublabels this line will fails. For example the label/sublabel string \"0.<a href=\"#!/hoffmanlab/segway/commits/99999999999999999\" rel=\"nofollow\" class=\"ap-connect-link\">99999999999999999</a>\" will produce an integer output of 1. This is unrealistic but probably worth mentioning as well.</p>\n<p>I'd consider running a list comprehension like shown below or use a map and a function to extract the integer label.</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span> <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"n\">x</span> <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">labels</span><span class=\"p\">]</span>\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-04T18:53:50.094703+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {"to": null, "from": null, "outdated": false, "path": "segway/task.py"}, "updated_on": "2014-07-04T18:53:50.102050+00:00", "type": "pullrequest_comment", "id": 2321620}