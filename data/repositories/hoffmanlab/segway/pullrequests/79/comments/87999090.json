{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/79/comments/87999090.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/79/_/diff#comment-87999090"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 79, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/79.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/79"}}, "title": "Handle vanishing/splitting gaussians"}, "content": {"raw": "It turns out that the different resulting annotation for simplesemisupervised was due to splitting/vanishing Gaussians in the parameter evolution. Previously the extra means/variances were simply ignored. However, this patch enables the split/vanished Gaussians to now affect the parameter evolution which resulted in the different annotation. I chose a different seed for semisupervised which gives an annotation similar to the previous one:\n\nSimplesemisupervised\u2019s annotation before this patch: \n\n    chr1\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 231,41,138 \n    chr1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000 27,158,119 \n    chr1\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 217,95,2 \n    chr1\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000 117,112,179 \n    chr1\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000 231,41,138 \n    chr1\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000 27,158,119 \n    chr1\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 217,95,2 \n    chr1\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000 117,112,179 \n\nWith the new seed and in this patch:\n\n    chr1\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 231,41,138 \n    chr1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000 27,158,119 \n    chr1\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000 117,112,179 \n    chr1\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 217,95,2 \n    chr1\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000 231,41,138 \n    chr1\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000 27,158,119 \n    chr1\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000 117,112,179 \n    chr1\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000\u00a0\u00a0\u00a0 217,95,2 \n\nWith supervised regions:\n\n    chr1\t0\t1000\t3\n    chr1\t4000\t5000\t3", "markup": "markdown", "html": "<p>It turns out that the different resulting annotation for simplesemisupervised was due to splitting/vanishing Gaussians in the parameter evolution. Previously the extra means/variances were simply ignored. However, this patch enables the split/vanished Gaussians to now affect the parameter evolution which resulted in the different annotation. I chose a different seed for semisupervised which gives an annotation similar to the previous one:</p>\n<p>Simplesemisupervised\u2019s annotation before this patch: </p>\n<div class=\"codehilite\"><pre><span></span>chr1\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 231,41,138 \nchr1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000 27,158,119 \nchr1\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 217,95,2 \nchr1\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000 117,112,179 \nchr1\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000 231,41,138 \nchr1\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000 27,158,119 \nchr1\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 217,95,2 \nchr1\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000 117,112,179\n</pre></div>\n\n\n<p>With the new seed and in this patch:</p>\n<div class=\"codehilite\"><pre><span></span>chr1\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 231,41,138 \nchr1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 2000 27,158,119 \nchr1\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 2000\u00a0\u00a0\u00a0 3000 117,112,179 \nchr1\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 3000\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 217,95,2 \nchr1\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 3\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 4000\u00a0\u00a0\u00a0 5000 231,41,138 \nchr1\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 0\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 5000\u00a0\u00a0\u00a0 6000 27,158,119 \nchr1\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 2\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 6000\u00a0\u00a0\u00a0 7000 117,112,179 \nchr1\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000\u00a0\u00a0\u00a0 1\u00a0\u00a0\u00a0 1000\u00a0\u00a0\u00a0 .\u00a0\u00a0\u00a0 7000\u00a0\u00a0\u00a0 8000\u00a0\u00a0\u00a0 217,95,2\n</pre></div>\n\n\n<p>With supervised regions:</p>\n<div class=\"codehilite\"><pre><span></span>chr1    0   1000    3\nchr1    4000    5000    3\n</pre></div>", "type": "rendered"}, "created_on": "2019-01-14T19:11:52.881827+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2019-01-14T19:11:52.891149+00:00", "type": "pullrequest_comment", "id": 87999090}