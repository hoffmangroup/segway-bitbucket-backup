{"pagelen": 50, "values": [{"update": {"description": "Currently, in save_observation_params(), load_supervision() is called, which adds \"supervisionLabel\" to the list of tracknames if we are in semi-supervised mode, then set_tracknames() is called, which asserts that \"supervisionLabel\" is not in the list of tracknames. This assertion fails in semi supervised mode. We only want to prevent user-provided tracknames from having that special name, so the assertion should come when those tracknames are first read in. ", "title": "Moved assertion to prevent error in semi supervised mode", "destination": {"commit": {"hash": "1324ae3a6942", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/1324ae3a6942.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/1324ae3a6942"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f1f5a879defc", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical/commit/f1f5a879defc"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical/commits/f1f5a879defc"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical"}, "avatar": {"href": "data/bytebucket.org/ravatar/{dc17d13c-983e-46e8-93f5-a0bd5778db9b}ts=python"}}, "type": "repository", "name": "segway-hierarchical", "full_name": "ajshaw/segway-hierarchical", "uuid": "{dc17d13c-983e-46e8-93f5-a0bd5778db9b}"}, "branch": {"name": "default"}}, "state": "MERGED", "author": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "date": "2014-07-16T23:39:19.025872+00:00"}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"approval": {"date": "2014-07-16T23:39:08.484514+00:00", "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"approval": {"date": "2014-07-16T16:53:54.253919+00:00", "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2426920.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2426920"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "It's probably not a big deal but I'm not sure if \"trackname\" is considered a noun or not (whether it's two separate words or one word). Looks good to me.", "markup": "markdown", "html": "<p>It's probably not a big deal but I'm not sure if \"trackname\" is considered a noun or not (whether it's two separate words or one word). Looks good to me.</p>", "type": "rendered"}, "created_on": "2014-07-16T16:53:41.083568+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2014-07-16T16:53:41.094686+00:00", "type": "pullrequest_comment", "id": 2426920}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2426829.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2426829"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "Does this look right?\n\nHere is what the error looks like when triggered\n```\nTraceback (most recent call last):\n  File \"/mnt/work1/users/home2/ashaw/bin/segway\", line 9, in <module>\n    load_entry_point('segway==1.2.0.dev-rel882-hge5c01c41a55fp', 'console_scripts', 'segway')()\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py\", line 2535, in main\n    runner = Runner.fromoptions(args, options)\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py\", line 740, in fromoptions\n    res.add_track_group(track_spec.split(\",\"))\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py\", line 688, in add_track_group\n    raise ValueError(\"'supervisionLabel' trackname is internally\"\nValueError: 'supervisionLabel' trackname is internally reserved and not allowed in supplied tracknames\n```", "markup": "markdown", "html": "<p>Does this look right?</p>\n<p>Here is what the error looks like when triggered</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;/mnt/work1/users/home2/ashaw/bin/segway&quot;, line 9, in &lt;module&gt;\n    load_entry_point(&#39;segway==1.2.0.dev-rel882-hge5c01c41a55fp&#39;, &#39;console_scripts&#39;, &#39;segway&#39;)()\n  File &quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py&quot;, line 2535, in main\n    runner = Runner.fromoptions(args, options)\n  File &quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py&quot;, line 740, in fromoptions\n    res.add_track_group(track_spec.split(&quot;,&quot;))\n  File &quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py&quot;, line 688, in add_track_group\n    raise ValueError(&quot;&#39;supervisionLabel&#39; trackname is internally&quot;\nValueError: &#39;supervisionLabel&#39; trackname is internally reserved and not allowed in supplied tracknames\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-16T16:47:12.179700+00:00", "user": {"display_name": "ajshaw", "uuid": "{547650d6-1225-4731-b1da-ba9913babfbf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D"}, "html": {"href": "https://bitbucket.org/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1f9b227ab720d7a41f4f0d49570db03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsA-2.png"}}, "nickname": "ajshaw", "type": "user", "account_id": "5b22d060ba383e0814004a64"}, "updated_on": "2014-07-16T16:51:36.753323+00:00", "type": "pullrequest_comment", "id": 2426829}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"update": {"description": "Currently, in save_observation_params(), load_supervision() is called, which adds \"supervisionLabel\" to the list of tracknames if we are in semi-supervised mode, then set_tracknames() is called, which asserts that \"supervisionLabel\" is not in the list of tracknames. This assertion fails in semi supervised mode. We only want to prevent user-provided tracknames from having that special name, so the assertion should come when those tracknames are first read in. ", "title": "Moved assertion to prevent error in semi supervised mode", "destination": {"commit": {"hash": "1324ae3a6942", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/1324ae3a6942.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/1324ae3a6942"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f1f5a879defc", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical/commit/f1f5a879defc"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical/commits/f1f5a879defc"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical"}, "avatar": {"href": "data/bytebucket.org/ravatar/{dc17d13c-983e-46e8-93f5-a0bd5778db9b}ts=python"}}, "type": "repository", "name": "segway-hierarchical", "full_name": "ajshaw/segway-hierarchical", "uuid": "{dc17d13c-983e-46e8-93f5-a0bd5778db9b}"}, "branch": {"name": "default"}}, "state": "OPEN", "author": {"display_name": "ajshaw", "uuid": "{547650d6-1225-4731-b1da-ba9913babfbf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D"}, "html": {"href": "https://bitbucket.org/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1f9b227ab720d7a41f4f0d49570db03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsA-2.png"}}, "nickname": "ajshaw", "type": "user", "account_id": "5b22d060ba383e0814004a64"}, "date": "2014-07-16T16:39:10.004898+00:00"}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2426629.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2426629"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "Also the line will probably need to be broken up to meet the PEP character limit (depending on the message you choose).", "markup": "markdown", "html": "<p>Also the line will probably need to be broken up to meet the PEP character limit (depending on the message you choose).</p>", "type": "rendered"}, "created_on": "2014-07-16T16:29:26.854198+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2014-07-16T16:29:26.866141+00:00", "type": "pullrequest_comment", "id": 2426629}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2426598.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2426598"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "Yes. It's not a \"label\" though, it's a trackname.", "markup": "markdown", "html": "<p>Yes. It's not a \"label\" though, it's a trackname.</p>", "type": "rendered"}, "created_on": "2014-07-16T16:27:03.296068+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2014-07-16T16:27:03.306261+00:00", "type": "pullrequest_comment", "id": 2426598}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2426585.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2426585"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "So should I change it to something like this?\n\n\n```\n#!python\nif \"supervisionLabel\" in tracknames:\n    raise ValueError(\"'supervisionLabel' label is internally reserved and not allowed in supplied track names\")\n```\n", "markup": "markdown", "html": "<p>So should I change it to something like this?</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">if</span> <span class=\"s2\">&quot;supervisionLabel&quot;</span> <span class=\"ow\">in</span> <span class=\"n\">tracknames</span><span class=\"p\">:</span>\n    <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s2\">&quot;&#39;supervisionLabel&#39; label is internally reserved and not allowed in supplied track names&quot;</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-16T16:26:03.280213+00:00", "user": {"display_name": "ajshaw", "uuid": "{547650d6-1225-4731-b1da-ba9913babfbf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D"}, "html": {"href": "https://bitbucket.org/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1f9b227ab720d7a41f4f0d49570db03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsA-2.png"}}, "nickname": "ajshaw", "type": "user", "account_id": "5b22d060ba383e0814004a64"}, "updated_on": "2014-07-16T16:26:03.289973+00:00", "type": "pullrequest_comment", "id": 2426585}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2425226.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2425226"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "asserts are really a shortcut. To add a more descriptive error message, we should be throwing something else like `ValueError`.", "markup": "markdown", "html": "<p>asserts are really a shortcut. To add a more descriptive error message, we should be throwing something else like <code>ValueError</code>.</p>", "type": "rendered"}, "created_on": "2014-07-16T14:52:30.820425+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2014-07-16T14:52:30.831147+00:00", "type": "pullrequest_comment", "id": 2425226}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2425175.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2425175"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "Yes, the error with semi-supervised mode in the identify task is a known issue (see Issue #6).\nAfter seeing what the assertion outputs, it would be great to get a string to follow the assert for a useful error message to follow the AssertionError.\n\ne.g.\n```python\nassert \"supervisionLabel\" not in tracknames,\\\n'\"supervisionLabel\" label is internally reserved and not allowed in supplied track names\"\n```\nor something along those lines.\n\nOtherwise everything looks good to me.", "markup": "markdown", "html": "<p>Yes, the error with semi-supervised mode in the identify task is a known issue (see Issue <a href=\"#!/hoffmanlab/segway/issues/6/identify-fails-in-semisupervised-mode-when\" rel=\"nofollow\" title=\"identify fails in semisupervised mode when train.tab is specified\" class=\"ap-connect-link\">#6</a>).\nAfter seeing what the assertion outputs, it would be great to get a string to follow the assert for a useful error message to follow the AssertionError.</p>\n<p>e.g.</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">assert</span> <span class=\"s2\">&quot;supervisionLabel&quot;</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">tracknames</span><span class=\"p\">,</span>\\\n<span class=\"s1\">&#39;&quot;supervisionLabel&quot; label is internally reserved and not allowed in supplied track names&quot;</span>\n</pre></div>\n\n\n<p>or something along those lines.</p>\n<p>Otherwise everything looks good to me.</p>", "type": "rendered"}, "created_on": "2014-07-16T14:48:09.610094+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2014-07-16T14:48:56.885476+00:00", "type": "pullrequest_comment", "id": 2425175}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"update": {"description": "Currently, in save_observation_params(), load_supervision() is called, which adds \"supervisionLabel\" to the list of tracknames if we are in semi-supervised mode, then set_tracknames() is called, which asserts that \"supervisionLabel\" is not in the list of tracknames. This assertion fails in semi supervised mode. We only want to prevent user-provided tracknames from having that special name, so the assertion should come when those tracknames are first read in. ", "title": "Moved assertion to prevent error in semi supervised mode", "destination": {"commit": {"hash": "1324ae3a6942", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/1324ae3a6942.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/1324ae3a6942"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f5c9722428fe", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical/commit/f5c9722428fe"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical/commits/f5c9722428fe"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical"}, "avatar": {"href": "data/bytebucket.org/ravatar/{dc17d13c-983e-46e8-93f5-a0bd5778db9b}ts=python"}}, "type": "repository", "name": "segway-hierarchical", "full_name": "ajshaw/segway-hierarchical", "uuid": "{dc17d13c-983e-46e8-93f5-a0bd5778db9b}"}, "branch": {"name": "default"}}, "state": "OPEN", "author": {"display_name": "ajshaw", "uuid": "{547650d6-1225-4731-b1da-ba9913babfbf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D"}, "html": {"href": "https://bitbucket.org/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1f9b227ab720d7a41f4f0d49570db03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsA-2.png"}}, "nickname": "ajshaw", "type": "user", "account_id": "5b22d060ba383e0814004a64"}, "date": "2014-07-15T16:41:35.054991+00:00"}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2412485.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2412485"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "I ran test_all.sh (so all tests under unsupervised mode) and they all passed as before. Running simpleseg with semi-supervised mode passed the train task with no errors, and caused what I believe is a known error with semi-supervised mode in the identify task (can be found searching \"supervisionLabel\" in segway internal email archives):\n\n```\nERROR: discrete observed random variable 'supervisionLabel', frame 0, line 79, specifies a feature element 4:4 that is out of discrete range ([2:3] inclusive) of observation matrix\nTraceback (most recent call last):\n  File \"/mnt/work1/users/home2/ashaw/bin/segway-task\", line 9, in <module>\n    load_entry_point('segway==1.2.0.dev-rel882-hge5c01c41a55fp', 'console_scripts', 'segway-task')()\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/task.py\", line 387, in main\n    return task(*args)\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/task.py\", line 379, in task\n    outfilename, *args)\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/task.py\", line 350, in run_viterbi_save_bed\n    output = VITERBI_PROG.getoutput(*args)\n  File \"/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py\", line 206, in getoutput\n    return self._getoutput(args, kwargs, stdout=PIPE)\n  File \"/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py\", line 194, in _getoutput\n    stdin, stdout, stderr, cwd)\n  File \"/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py\", line 157, in _popen\n    _returncode_error_factory(cmdline, returncode, output, error)\n  File \"/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py\", line 57, in _returncode_error_factory\n    raise error_cls, (cmdline, returncode, output, error)\noptbuild.ReturncodeError: /mnt/work1/users/home2/ashaw/bin/gmtkViterbi returned 1\n```\nThis was the behavior for me before the change as well, when I disabled the previous assertion check to allow segway to progress in semi-supervised mode. This error can be avoided by passing the identify task a copy of the generated segway.str with the supervisionLabel variables removed (again, true before and after the change). When I do this, the test fails (since semi-supervised changes the behavior) but it finishes with no error (nothing in \\*/output/e/\\*).\n\nFinally, I ran in unsupervised mode, but with a user track named \"supervisionLabel\" to make sure that is still not allowed, and it failed the assertion as expected:\n\n```\nTraceback (most recent call last):\n  File \"/mnt/work1/users/home2/ashaw/bin/segway\", line 9, in <module>\n    load_entry_point('segway==1.2.0.dev-rel882-hge5c01c41a55fp', 'console_scripts', 'segway')()\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py\", line 2532, in main\n    runner = Runner.fromoptions(args, options)\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py\", line 737, in fromoptions\n    res.add_track_group(track_spec.split(\",\"))\n  File \"/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py\", line 687, in add_track_group\n    assert \"supervisionLabel\" not in tracknames\nAssertionError\n```", "markup": "markdown", "html": "<p>I ran test_all.sh (so all tests under unsupervised mode) and they all passed as before. Running simpleseg with semi-supervised mode passed the train task with no errors, and caused what I believe is a known error with semi-supervised mode in the identify task (can be found searching \"supervisionLabel\" in segway internal email archives):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">discrete</span> <span class=\"n\">observed</span> <span class=\"n\">random</span> <span class=\"n\">variable</span> <span class=\"s1\">&#39;supervisionLabel&#39;</span><span class=\"o\">,</span> <span class=\"n\">frame</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">79</span><span class=\"o\">,</span> <span class=\"n\">specifies</span> <span class=\"n\">a</span> <span class=\"n\">feature</span> <span class=\"n\">element</span> <span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"mi\">4</span> <span class=\"n\">that</span> <span class=\"k\">is</span> <span class=\"n\">out</span> <span class=\"n\">of</span> <span class=\"n\">discrete</span> <span class=\"n\">range</span> <span class=\"o\">([</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"o\">]</span> <span class=\"n\">inclusive</span><span class=\"o\">)</span> <span class=\"n\">of</span> <span class=\"n\">observation</span> <span class=\"n\">matrix</span>\n<span class=\"n\">Traceback</span> <span class=\"o\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"o\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/users/home2/ashaw/bin/segway-task&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">9</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n    <span class=\"n\">load_entry_point</span><span class=\"o\">(</span><span class=\"s1\">&#39;segway==1.2.0.dev-rel882-hge5c01c41a55fp&#39;</span><span class=\"o\">,</span> <span class=\"s1\">&#39;console_scripts&#39;</span><span class=\"o\">,</span> <span class=\"s1\">&#39;segway-task&#39;</span><span class=\"o\">)()</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/task.py&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">387</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"n\">main</span>\n    <span class=\"k\">return</span> <span class=\"n\">task</span><span class=\"o\">(*</span><span class=\"n\">args</span><span class=\"o\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/task.py&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">379</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"n\">task</span>\n    <span class=\"n\">outfilename</span><span class=\"o\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"o\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/task.py&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">350</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"n\">run_viterbi_save_bed</span>\n    <span class=\"n\">output</span> <span class=\"o\">=</span> <span class=\"n\">VITERBI_PROG</span><span class=\"o\">.</span><span class=\"na\">getoutput</span><span class=\"o\">(*</span><span class=\"n\">args</span><span class=\"o\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">206</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"n\">getoutput</span>\n    <span class=\"k\">return</span> <span class=\"n\">self</span><span class=\"o\">.</span><span class=\"na\">_getoutput</span><span class=\"o\">(</span><span class=\"n\">args</span><span class=\"o\">,</span> <span class=\"n\">kwargs</span><span class=\"o\">,</span> <span class=\"n\">stdout</span><span class=\"o\">=</span><span class=\"n\">PIPE</span><span class=\"o\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">194</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"n\">_getoutput</span>\n    <span class=\"n\">stdin</span><span class=\"o\">,</span> <span class=\"n\">stdout</span><span class=\"o\">,</span> <span class=\"n\">stderr</span><span class=\"o\">,</span> <span class=\"n\">cwd</span><span class=\"o\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">157</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"n\">_popen</span>\n    <span class=\"n\">_returncode_error_factory</span><span class=\"o\">(</span><span class=\"n\">cmdline</span><span class=\"o\">,</span> <span class=\"n\">returncode</span><span class=\"o\">,</span> <span class=\"n\">output</span><span class=\"o\">,</span> <span class=\"n\">error</span><span class=\"o\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/mnt/work1/software/python/2.7/lib/python2.7/site-packages/optbuild.py&quot;</span><span class=\"o\">,</span> <span class=\"n\">line</span> <span class=\"mi\">57</span><span class=\"o\">,</span> <span class=\"k\">in</span> <span class=\"n\">_returncode_error_factory</span>\n    <span class=\"n\">raise</span> <span class=\"n\">error_cls</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"n\">cmdline</span><span class=\"o\">,</span> <span class=\"n\">returncode</span><span class=\"o\">,</span> <span class=\"n\">output</span><span class=\"o\">,</span> <span class=\"n\">error</span><span class=\"o\">)</span>\n<span class=\"n\">optbuild</span><span class=\"o\">.</span><span class=\"na\">ReturncodeError</span><span class=\"o\">:</span> <span class=\"sr\">/mnt/work1/users/home2/ashaw/bin/g</span><span class=\"n\">mtkViterbi</span> <span class=\"n\">returned</span> <span class=\"mi\">1</span>\n</pre></div>\n\n\n<p>This was the behavior for me before the change as well, when I disabled the previous assertion check to allow segway to progress in semi-supervised mode. This error can be avoided by passing the identify task a copy of the generated segway.str with the supervisionLabel variables removed (again, true before and after the change). When I do this, the test fails (since semi-supervised changes the behavior) but it finishes with no error (nothing in */output/e/*).</p>\n<p>Finally, I ran in unsupervised mode, but with a user track named \"supervisionLabel\" to make sure that is still not allowed, and it failed the assertion as expected:</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;/mnt/work1/users/home2/ashaw/bin/segway&quot;, line 9, in &lt;module&gt;\n    load_entry_point(&#39;segway==1.2.0.dev-rel882-hge5c01c41a55fp&#39;, &#39;console_scripts&#39;, &#39;segway&#39;)()\n  File &quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py&quot;, line 2532, in main\n    runner = Runner.fromoptions(args, options)\n  File &quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py&quot;, line 737, in fromoptions\n    res.add_track_group(track_spec.split(&quot;,&quot;))\n  File &quot;/mnt/work1/users/home2/ashaw/bin/lib/python2.7/site-packages/segway-1.2.0.dev_rel882_hge5c01c41a55fp-py2.7.egg/segway/run.py&quot;, line 687, in add_track_group\n    assert &quot;supervisionLabel&quot; not in tracknames\nAssertionError\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-15T16:41:21.527887+00:00", "user": {"display_name": "ajshaw", "uuid": "{547650d6-1225-4731-b1da-ba9913babfbf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D"}, "html": {"href": "https://bitbucket.org/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1f9b227ab720d7a41f4f0d49570db03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsA-2.png"}}, "nickname": "ajshaw", "type": "user", "account_id": "5b22d060ba383e0814004a64"}, "updated_on": "2014-07-15T16:41:21.544306+00:00", "type": "pullrequest_comment", "id": 2412485}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6/comments/2410778.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6/_/diff#comment-2410778"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}, "content": {"raw": "This looks like a good fix to me. As far as I can tell, add_track_group is the only function that writes to the self.tracks from user input.\nAs a sanity check it would be great if you could verify this doesn't break anything by running a simple test (from the test suite), ideally if possible under semi-supervised and unsupervised mode and post results here.\n\nThe NEWS file also needs updating stating this fix.", "markup": "markdown", "html": "<p>This looks like a good fix to me. As far as I can tell, add_track_group is the only function that writes to the self.tracks from user input.\nAs a sanity check it would be great if you could verify this doesn't break anything by running a simple test (from the test suite), ideally if possible under semi-supervised and unsupervised mode and post results here.</p>\n<p>The NEWS file also needs updating stating this fix.</p>", "type": "rendered"}, "created_on": "2014-07-15T14:47:26.158517+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2014-07-15T14:47:26.173536+00:00", "type": "pullrequest_comment", "id": 2410778}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"update": {"description": "Currently, in save_observation_params(), load_supervision() is called, which adds \"supervisionLabel\" to the list of tracknames if we are in semi-supervised mode, then set_tracknames() is called, which asserts that \"supervisionLabel\" is not in the list of tracknames. This assertion fails in semi supervised mode. We only want to prevent user-provided tracknames from having that special name, so the assertion should come when those tracknames are first read in. ", "title": "Moved assertion to prevent error in semi supervised mode", "destination": {"commit": {"hash": "1324ae3a6942", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/1324ae3a6942.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/1324ae3a6942"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e5c01c41a55f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical/commit/e5c01c41a55f"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical/commits/e5c01c41a55f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical"}, "avatar": {"href": "data/bytebucket.org/ravatar/{dc17d13c-983e-46e8-93f5-a0bd5778db9b}ts=python"}}, "type": "repository", "name": "segway-hierarchical", "full_name": "ajshaw/segway-hierarchical", "uuid": "{dc17d13c-983e-46e8-93f5-a0bd5778db9b}"}, "branch": {"name": "default"}}, "state": "OPEN", "author": {"display_name": "ajshaw", "uuid": "{547650d6-1225-4731-b1da-ba9913babfbf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D"}, "html": {"href": "https://bitbucket.org/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1f9b227ab720d7a41f4f0d49570db03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsA-2.png"}}, "nickname": "ajshaw", "type": "user", "account_id": "5b22d060ba383e0814004a64"}, "date": "2014-07-15T04:20:24.212907+00:00"}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}, {"update": {"description": "Currently, in save_observation_params(), load_supervision() is called, which adds \"supervisionLabel\" to the list of tracknames if we are in semi-supervised mode, then set_tracknames() is called, which asserts that \"supervisionLabel\" is not in the list of tracknames. This assertion fails in semi supervised mode. We only want to prevent user-provided tracknames from having that special name, so the assertion should come when those tracknames are first read in. ", "title": "Moved assertion to prevent error in semi supervised mode", "destination": {"commit": {"hash": "1324ae3a6942", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/1324ae3a6942.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/1324ae3a6942"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e5c01c41a55f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical/commit/e5c01c41a55f"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical/commits/e5c01c41a55f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ajshaw/segway-hierarchical"}, "html": {"href": "https://bitbucket.org/ajshaw/segway-hierarchical"}, "avatar": {"href": "data/bytebucket.org/ravatar/{dc17d13c-983e-46e8-93f5-a0bd5778db9b}ts=python"}}, "type": "repository", "name": "segway-hierarchical", "full_name": "ajshaw/segway-hierarchical", "uuid": "{dc17d13c-983e-46e8-93f5-a0bd5778db9b}"}, "branch": {"name": "default"}}, "state": "OPEN", "author": {"display_name": "ajshaw", "uuid": "{547650d6-1225-4731-b1da-ba9913babfbf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D"}, "html": {"href": "https://bitbucket.org/%7B547650d6-1225-4731-b1da-ba9913babfbf%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1f9b227ab720d7a41f4f0d49570db03fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsA-2.png"}}, "nickname": "ajshaw", "type": "user", "account_id": "5b22d060ba383e0814004a64"}, "date": "2014-07-15T04:20:24.161358+00:00"}, "pull_request": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/6.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/6"}}, "title": "Moved assertion to prevent error in semi supervised mode"}}]}