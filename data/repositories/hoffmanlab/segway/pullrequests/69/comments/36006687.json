{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/69/comments/36006687.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/69/_/diff#comment-36006687"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/69.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/69"}}, "title": "Using --zscore to normalise datatracks"}, "content": {"raw": "Due to changes in the way observation/window generation has been re-routed, the z-score code will probably have to be rerouted into ``run.py``, likely ahead of ``queue_train`` (probably directly after ``train_windows`` are generated). Track means and vars need to be calculated ahead of the transform application, and passed along accordingly.\n\nI also found an issue with the way multiple genome data archives is implemented--``track_means`` and ``track_vars`` should have an extra dimension (eg [genomedata_archive][track] instead of just [track]) and this should propagate accordingly in the transform. This might need to be turned into a dictionary for organisation purposes.", "markup": "markdown", "html": "<p>Due to changes in the way observation/window generation has been re-routed, the z-score code will probably have to be rerouted into <code>run.py</code>, likely ahead of <code>queue_train</code> (probably directly after <code>train_windows</code> are generated). Track means and vars need to be calculated ahead of the transform application, and passed along accordingly.</p>\n<p>I also found an issue with the way multiple genome data archives is implemented--<code>track_means</code> and <code>track_vars</code> should have an extra dimension (eg [genomedata_archive][track] instead of just [track]) and this should propagate accordingly in the transform. This might need to be turned into a dictionary for organisation purposes.</p>", "type": "rendered"}, "created_on": "2017-05-01T16:45:38.492548+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-05-01T16:45:38.495047+00:00", "type": "pullrequest_comment", "id": 36006687}