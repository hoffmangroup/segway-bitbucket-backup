{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37534965.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37534965"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Can you clarify the difference between `create_validation_filepaths` and `make_validation_filepaths`? They are named *very* similarly and they look like they have significantly different functions. Perhaps better naming or a comment?", "markup": "markdown", "html": "<p>Can you clarify the difference between <code>create_validation_filepaths</code> and <code>make_validation_filepaths</code>? They are named <em>very</em> similarly and they look like they have significantly different functions. Perhaps better naming or a comment?</p>", "type": "rendered"}, "created_on": "2017-05-24T16:20:01.955977+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T16:20:01.959125+00:00", "type": "pullrequest_comment", "id": 37534965}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37534281.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37534281"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Consider putting everything inside this conditional in its own function", "markup": "markdown", "html": "<p>Consider putting everything inside this conditional in its own function</p>", "type": "rendered"}, "created_on": "2017-05-24T16:12:17.727079+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T16:12:17.731191+00:00", "type": "pullrequest_comment", "id": 37534281}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37533541.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37533541"}}, "parent": {"id": 37531732, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37531732.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37531732"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@hoffman what do you think should happen between the interaction of `--include-coords` and `--validation-coords`? Currently `--exclude-coords` is applied to `--validation-coords` but `--include-coords` is not. `--include-coords` states that it will \"limit to genomic coordinates in FILE\". This is true in every case except this one. Should this include coordinates limit include validation regions? As in, if they do not intersect, there are no validation regions? Allowing to choose a subset of validation regions by altering `--include-coords`?", "markup": "markdown", "html": "<p>@hoffman what do you think should happen between the interaction of <code>--include-coords</code> and <code>--validation-coords</code>? Currently <code>--exclude-coords</code> is applied to <code>--validation-coords</code> but <code>--include-coords</code> is not. <code>--include-coords</code> states that it will \"limit to genomic coordinates in FILE\". This is true in every case except this one. Should this include coordinates limit include validation regions? As in, if they do not intersect, there are no validation regions? Allowing to choose a subset of validation regions by altering <code>--include-coords</code>?</p>", "type": "rendered"}, "created_on": "2017-05-24T16:03:16.735705+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T16:09:33.975388+00:00", "type": "pullrequest_comment", "id": 37533541}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37533907.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37533907"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Same comment as above", "markup": "markdown", "html": "<p>Same comment as above</p>", "type": "rendered"}, "created_on": "2017-05-24T16:07:40.488405+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T16:07:40.492193+00:00", "type": "pullrequest_comment", "id": 37533907}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37533886.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37533886"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Avoid the continue and place the \"else\" portion inside the positive version of this conditional:\n\n```\n#!python\n\nif start\n```", "markup": "markdown", "html": "<p>Avoid the continue and place the \"else\" portion inside the positive version of this conditional:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">if</span> <span class=\"n\">start</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-24T16:07:29.707747+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T16:07:29.711596+00:00", "type": "pullrequest_comment", "id": 37533886}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37533815.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37533815"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "try to avoid reusing the start & end variable names", "markup": "markdown", "html": "<p>try to avoid reusing the start &amp; end variable names</p>", "type": "rendered"}, "created_on": "2017-05-24T16:06:37.036088+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T16:06:37.039083+00:00", "type": "pullrequest_comment", "id": 37533815}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37531869.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37531869"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Try to avoid unconditional loops like the plague. Is len(starts) > 0 not sufficient here?", "markup": "markdown", "html": "<p>Try to avoid unconditional loops like the plague. Is len(starts) &gt; 0 not sufficient here?</p>", "type": "rendered"}, "created_on": "2017-05-24T15:45:12.427374+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T15:45:12.431065+00:00", "type": "pullrequest_comment", "id": 37531869}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37531732.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37531732"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "What about `include_coords`? What if there's a selected region to include for both training and validation?", "markup": "markdown", "html": "<p>What about <code>include_coords</code>? What if there's a selected region to include for both training and validation?</p>", "type": "rendered"}, "created_on": "2017-05-24T15:43:58.533910+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T15:43:58.536749+00:00", "type": "pullrequest_comment", "id": 37531732}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37531403.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37531403"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Is `locate_windows` used by identify as well? Is there a case to make sure validation is not used if this is the case?", "markup": "markdown", "html": "<p>Is <code>locate_windows</code> used by identify as well? Is there a case to make sure validation is not used if this is the case?</p>", "type": "rendered"}, "created_on": "2017-05-24T15:41:02.001760+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T15:41:08.470984+00:00", "type": "pullrequest_comment", "id": 37531403}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37531090.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37531090"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I believe the outer parentheses are unnecessary", "markup": "markdown", "html": "<p>I believe the outer parentheses are unnecessary</p>", "type": "rendered"}, "created_on": "2017-05-24T15:37:56.962248+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T15:37:56.965233+00:00", "type": "pullrequest_comment", "id": 37531090}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37531033.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37531033"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Maybe clarify this a bit since it should be clear that you're selecting windows until the total number of bases chosen is *at least* as large as the validation fraction of the whole genome", "markup": "markdown", "html": "<p>Maybe clarify this a bit since it should be clear that you're selecting windows until the total number of bases chosen is <em>at least</em> as large as the validation fraction of the whole genome</p>", "type": "rendered"}, "created_on": "2017-05-24T15:37:18.171761+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T15:37:18.174926+00:00", "type": "pullrequest_comment", "id": 37531033}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37523841.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37523841"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Update this with validation_coords", "markup": "markdown", "html": "<p>Update this with validation_coords</p>", "type": "rendered"}, "created_on": "2017-05-24T14:31:55.081482+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T14:31:55.084214+00:00", "type": "pullrequest_comment", "id": 37523841}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37523751.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37523751"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Probably best to place inside the conditional.", "markup": "markdown", "html": "<p>Probably best to place inside the conditional.</p>", "type": "rendered"}, "created_on": "2017-05-24T14:31:10.740177+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T14:31:10.743280+00:00", "type": "pullrequest_comment", "id": 37523751}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37523719.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37523719"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "If there is no validation this is simply setting self.validation_windows to an empty list. If it's necessary to have validation_windows as an empty list in this case, it should be placed inside the constructor instead.", "markup": "markdown", "html": "<p>If there is no validation this is simply setting self.validation_windows to an empty list. If it's necessary to have validation_windows as an empty list in this case, it should be placed inside the constructor instead.</p>", "type": "rendered"}, "created_on": "2017-05-24T14:30:49.810561+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T14:30:49.813584+00:00", "type": "pullrequest_comment", "id": 37523719}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37523132.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37523132"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "This should be refactored into 1 function shared with `generate_coords_include`. You could include `generate_coords_all` in this as well. Check the instance of the parameter given, and call the generic include/validation one, or call a \"private\" version that is simply the code for `generate_coords_all`.\n\nAfter a quick review of the code it looks like it should be folded into the existing `generate_coords` below this.", "markup": "markdown", "html": "<p>This should be refactored into 1 function shared with <code>generate_coords_include</code>. You could include <code>generate_coords_all</code> in this as well. Check the instance of the parameter given, and call the generic include/validation one, or call a \"private\" version that is simply the code for <code>generate_coords_all</code>.</p>\n<p>After a quick review of the code it looks like it should be folded into the existing <code>generate_coords</code> below this.</p>", "type": "rendered"}, "created_on": "2017-05-24T14:26:00.130762+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T14:28:17.330635+00:00", "type": "pullrequest_comment", "id": 37523132}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37522565.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37522565"}}, "parent": {"id": 37521685, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37521685.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37521685"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I understand now after reading more carefully. The difference between `filelistpath` and `filepaths` was tricky. Maybe an extra underscore before the `_path` portion?", "markup": "markdown", "html": "<p>I understand now after reading more carefully. The difference between <code>filelistpath</code> and <code>filepaths</code> was tricky. Maybe an extra underscore before the <code>_path</code> portion?</p>", "type": "rendered"}, "created_on": "2017-05-24T14:20:44.221290+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T14:20:44.224853+00:00", "type": "pullrequest_comment", "id": 37522565}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37521685.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37521685"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Could you describe, maybe in a comment the difference between this: `self.validation_float_filepaths` and the `validation_float_filelistpath` from copy_attrs? It's not clear why they both exist and one is copied the main runner.", "markup": "markdown", "html": "<p>Could you describe, maybe in a comment the difference between this: <code>self.validation_float_filepaths</code> and the <code>validation_float_filelistpath</code> from copy_attrs? It's not clear why they both exist and one is copied the main runner.</p>", "type": "rendered"}, "created_on": "2017-05-24T14:13:06.729161+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-24T14:13:06.731312+00:00", "type": "pullrequest_comment", "id": 37521685}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37521028.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37521028"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Currently the build is failing the tests. It looks like it timed out or something else went wrong. Can you please re-run the tests to ensure everything passes?", "markup": "markdown", "html": "<p>Currently the build is failing the tests. It looks like it timed out or something else went wrong. Can you please re-run the tests to ensure everything passes?</p>", "type": "rendered"}, "created_on": "2017-05-24T14:07:07.595210+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2017-05-24T14:07:07.598495+00:00", "type": "pullrequest_comment", "id": 37521028}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "095c5f08d32d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/095c5f08d32d"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/095c5f08d32d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-17T14:52:45.997755+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a0aa6a61b876", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/a0aa6a61b876"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/a0aa6a61b876"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-17T14:05:06.364894+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c39e727ae682", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/c39e727ae682"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/c39e727ae682"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-16T21:29:19.496350+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "95ad2de4ea38", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/95ad2de4ea38"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/95ad2de4ea38"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-16T20:15:49.277700+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b8b964fe3e1e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/b8b964fe3e1e"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/b8b964fe3e1e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-16T20:08:24.221815+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "135dff375eff", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/135dff375eff"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/135dff375eff"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-16T19:29:50.406995+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ac90bcedb706", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/ac90bcedb706"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/ac90bcedb706"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-16T17:30:51.906496+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36994857.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36994857"}}, "parent": {"id": 36605228, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605228.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605228"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Second note: need to modify this to work with recover (existing and future)", "markup": "markdown", "html": "<p>Second note: need to modify this to work with recover (existing and future)</p>", "type": "rendered"}, "created_on": "2017-05-16T17:25:14.431149+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-05-16T17:26:27.289056+00:00", "type": "pullrequest_comment", "id": 36994857}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "63ba067afc6c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/63ba067afc6c"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/63ba067afc6c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-16T17:10:27.424231+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "13d4e9a1de8f", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/13d4e9a1de8f.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/13d4e9a1de8f"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ea272189393e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/ea272189393e"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/ea272189393e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-16T16:02:19.743702+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "3857dfb9beac", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/3857dfb9beac.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/3857dfb9beac"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a3278f71fade", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/a3278f71fade"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/a3278f71fade"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-12T20:52:23.201641+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790424.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790424"}}, "parent": {"id": 36701003, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36701003.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36701003"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Eg only the task and parameter values are specified to segway-task? Then segway-task creates the GMTK commandline, rather than the runner?", "markup": "markdown", "html": "<p>Eg only the task and parameter values are specified to segway-task? Then segway-task creates the GMTK commandline, rather than the runner?</p>", "type": "rendered"}, "created_on": "2017-05-12T19:41:06.863657+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:47:36.967646+00:00", "type": "pullrequest_comment", "id": 36790424}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790222.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790222"}}, "parent": {"id": 36699423, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699423.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699423"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Added a description of the function and what it's returning, though the input is technically just 'self'", "markup": "markdown", "html": "<p>Added a description of the function and what it's returning, though the input is technically just 'self'</p>", "type": "rendered"}, "created_on": "2017-05-12T19:38:08.315391+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:39:43.500529+00:00", "type": "pullrequest_comment", "id": 36790222}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790201.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790201"}}, "parent": {"id": 36699567, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699567.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699567"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Fixed, made it into a RuntimeError", "markup": "markdown", "html": "<p>Fixed, made it into a RuntimeError</p>", "type": "rendered"}, "created_on": "2017-05-12T19:37:51.347151+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:37:51.350429+00:00", "type": "pullrequest_comment", "id": 36790201}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790188.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790188"}}, "parent": {"id": 36699589, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699589.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699589"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2017-05-12T19:37:41.698709+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:37:41.702381+00:00", "type": "pullrequest_comment", "id": 36790188}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790186.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790186"}}, "parent": {"id": 36699626, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699626.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699626"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Fixed, imported ```MSG_SUCCESS``` from task.py", "markup": "markdown", "html": "<p>Fixed, imported <code>MSG_SUCCESS</code> from task.py</p>", "type": "rendered"}, "created_on": "2017-05-12T19:37:37.445471+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:37:37.452293+00:00", "type": "pullrequest_comment", "id": 36790186}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790175.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790175"}}, "parent": {"id": 36699771, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699771.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699771"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2017-05-12T19:37:24.785891+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:37:24.788532+00:00", "type": "pullrequest_comment", "id": 36790175}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790147.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790147"}}, "parent": {"id": 36699846, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699846.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699846"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Moved all to ```f.write``` except for the statement writing ```full_validation_output```", "markup": "markdown", "html": "<p>Moved all to <code>f.write</code> except for the statement writing <code>full_validation_output</code></p>", "type": "rendered"}, "created_on": "2017-05-12T19:36:56.631166+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:37:20.279256+00:00", "type": "pullrequest_comment", "id": 36790147}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790142.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790142"}}, "parent": {"id": 36699957, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699957.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699957"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2017-05-12T19:36:44.253093+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:36:44.255241+00:00", "type": "pullrequest_comment", "id": 36790142}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36790132.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36790132"}}, "parent": {"id": 36701179, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36701179.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36701179"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Fixed", "markup": "markdown", "html": "<p>Fixed</p>", "type": "rendered"}, "created_on": "2017-05-12T19:36:35.849678+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T19:36:35.852741+00:00", "type": "pullrequest_comment", "id": 36790132}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "3857dfb9beac", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/3857dfb9beac.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/3857dfb9beac"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d292f559f120", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/d292f559f120"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/d292f559f120"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-12T17:56:53.637654+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "3857dfb9beac", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/3857dfb9beac.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/3857dfb9beac"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e73c9a68f1a6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/e73c9a68f1a6"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/e73c9a68f1a6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-12T17:38:03.867181+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36781658.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36781658"}}, "parent": {"id": 36696807, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36696807.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36696807"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "(Note: I looked through the code and didn't find anything that I think would expect sorting)\n\nWe might want that, but it would require factoring all mentions of windows/self.windows in the code... the full set of windows is never actually used anywhere, anyways. Once we split into two sets, we are only interested in each individual set, not the whole.", "markup": "markdown", "html": "<p>(Note: I looked through the code and didn't find anything that I think would expect sorting)</p>\n<p>We might want that, but it would require factoring all mentions of windows/self.windows in the code... the full set of windows is never actually used anywhere, anyways. Once we split into two sets, we are only interested in each individual set, not the whole.</p>", "type": "rendered"}, "created_on": "2017-05-12T17:27:46.544390+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-12T17:27:46.547638+00:00", "type": "pullrequest_comment", "id": 36781658}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36701179.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36701179"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Should mention it will match --minibatch-fraction if used.", "markup": "markdown", "html": "<p>Should mention it will match --minibatch-fraction if used.</p>", "type": "rendered"}, "created_on": "2017-05-11T20:47:00.469455+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:47:00.471709+00:00", "type": "pullrequest_comment", "id": 36701179}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36701003.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36701003"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Perhaps there should be an enhancement request for segway-task to take on the full responsibility of dealing with GMTK arguments and options.", "markup": "markdown", "html": "<p>Perhaps there should be an enhancement request for segway-task to take on the full responsibility of dealing with GMTK arguments and options.</p>", "type": "rendered"}, "created_on": "2017-05-11T20:43:52.726730+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:43:52.729853+00:00", "type": "pullrequest_comment", "id": 36701003}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36700515.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36700515"}}, "parent": {"id": 36700191, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36700191.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36700191"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "No, they're not on the same line (hence why I check if the match group is empty):\n\nA sample output looks like this:\n\n\n```\n#!bash\n\nSegment 0, after Prob E: log(prob(evidence)) = 0.000002, per frame =0.000000, per numUFrams = 0.000000\nSegment 1, after Prob E: log(prob(evidence)) = 0.123759, per frame =0.000017, per numUFrams = 0.000017\nSegment 2, after Prob E: log(prob(evidence)) = 0.000016, per frame =0.000000, per numUFrams = 0.000000\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Thursday May 11 2017, 16:30:16 EDT ____\n\n```\n\nIs there a better way to do this?", "markup": "markdown", "html": "<p>No, they're not on the same line (hence why I check if the match group is empty):</p>\n<p>A sample output looks like this:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>Segment <span class=\"m\">0</span>, after Prob E: log<span class=\"o\">(</span>prob<span class=\"o\">(</span>evidence<span class=\"o\">))</span> <span class=\"o\">=</span> <span class=\"m\">0</span>.000002, per <span class=\"nv\">frame</span> <span class=\"o\">=</span><span class=\"m\">0</span>.000000, per <span class=\"nv\">numUFrams</span> <span class=\"o\">=</span> <span class=\"m\">0</span>.000000\nSegment <span class=\"m\">1</span>, after Prob E: log<span class=\"o\">(</span>prob<span class=\"o\">(</span>evidence<span class=\"o\">))</span> <span class=\"o\">=</span> <span class=\"m\">0</span>.123759, per <span class=\"nv\">frame</span> <span class=\"o\">=</span><span class=\"m\">0</span>.000017, per <span class=\"nv\">numUFrams</span> <span class=\"o\">=</span> <span class=\"m\">0</span>.000017\nSegment <span class=\"m\">2</span>, after Prob E: log<span class=\"o\">(</span>prob<span class=\"o\">(</span>evidence<span class=\"o\">))</span> <span class=\"o\">=</span> <span class=\"m\">0</span>.000016, per <span class=\"nv\">frame</span> <span class=\"o\">=</span><span class=\"m\">0</span>.000000, per <span class=\"nv\">numUFrams</span> <span class=\"o\">=</span> <span class=\"m\">0</span>.000000\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS <span class=\"m\">0</span> AT Thursday May <span class=\"m\">11</span> <span class=\"m\">2017</span>, <span class=\"m\">16</span>:30:16 EDT ____\n</pre></div>\n\n\n<p>Is there a better way to do this?</p>", "type": "rendered"}, "created_on": "2017-05-11T20:36:18.818917+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-11T20:37:00.947163+00:00", "type": "pullrequest_comment", "id": 36700515}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36700191.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36700191"}}, "parent": {"id": 36699842, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699842.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699842"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I have no idea what the output looks like so it's hard to tell. I assumed that SUCCESSFUL would be on the same line potentially as the GMTKJT_OUTPUT_PATTERN.", "markup": "markdown", "html": "<p>I have no idea what the output looks like so it's hard to tell. I assumed that SUCCESSFUL would be on the same line potentially as the GMTKJT_OUTPUT_PATTERN.</p>", "type": "rendered"}, "created_on": "2017-05-11T20:31:30.732715+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:31:40.732457+00:00", "type": "pullrequest_comment", "id": 36700191}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699957.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699957"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Why is the tuple function used here? append((1,2,3)) appends a tuple of (1,2,3) just fine.", "markup": "markdown", "html": "<p>Why is the tuple function used here? append((1,2,3)) appends a tuple of (1,2,3) just fine.</p>", "type": "rendered"}, "created_on": "2017-05-11T20:28:15.892821+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:28:15.896927+00:00", "type": "pullrequest_comment", "id": 36699957}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699846.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699846"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "A minor thing but it would be great if we started to migrate from the old print statement", "markup": "markdown", "html": "<p>A minor thing but it would be great if we started to migrate from the old print statement</p>", "type": "rendered"}, "created_on": "2017-05-11T20:26:21.911817+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:26:21.914650+00:00", "type": "pullrequest_comment", "id": 36699846}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699842.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699842"}}, "parent": {"id": 36699709, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699709.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699709"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Could you please clarify what is meant by this? Eg search for the success message instead of the output pattern in the output returned by gmtkJT?", "markup": "markdown", "html": "<p>Could you please clarify what is meant by this? Eg search for the success message instead of the output pattern in the output returned by gmtkJT?</p>", "type": "rendered"}, "created_on": "2017-05-11T20:26:19.552802+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-11T20:26:19.555872+00:00", "type": "pullrequest_comment", "id": 36699842}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699771.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699771"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "len(validation_window)", "markup": "markdown", "html": "<p>len(validation_window)</p>", "type": "rendered"}, "created_on": "2017-05-11T20:24:53.463373+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:24:53.465798+00:00", "type": "pullrequest_comment", "id": 36699771}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699709.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699709"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Is it possible to match \"SUCCESSFUL\" and not match your GMTKJT_OUTPUT_PATTERN?", "markup": "markdown", "html": "<p>Is it possible to match \"SUCCESSFUL\" and not match your GMTKJT_OUTPUT_PATTERN?</p>", "type": "rendered"}, "created_on": "2017-05-11T20:23:56.076806+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:23:56.079767+00:00", "type": "pullrequest_comment", "id": 36699709}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}], "next": "data/repositories/hoffmanlab/segway/pullrequests/74/activity_ctx=yoLfXps8fn.json"}