{"pagelen": 50, "values": [{"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c8b4d17a324f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/c8b4d17a324f"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/c8b4d17a324f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "MERGED", "author": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "date": "2017-06-08T15:07:33.651244+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c8b4d17a324f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/c8b4d17a324f"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/c8b4d17a324f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "date": "2017-06-08T15:07:32.154029+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"approval": {"date": "2017-06-08T14:56:13.650138+00:00", "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38403996.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38403996"}}, "parent": {"id": 38403221, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38403221.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38403221"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Yes, we should have one, and yes it can be in a different PR. @rcwchan that should probably be a priority for you over Python 3 prep stuff.", "markup": "markdown", "html": "<p>Yes, we should have one, and yes it can be in a different PR. @rcwchan that should probably be a priority for you over Python 3 prep stuff.</p>", "type": "rendered"}, "created_on": "2017-06-07T20:27:57.588957+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2017-06-07T20:27:57.612567+00:00", "type": "pullrequest_comment", "id": 38403996}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38403221.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38403221"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@hoffman do you think there should be a validation test case added? In a different PR?", "markup": "markdown", "html": "<p>@hoffman do you think there should be a validation test case added? In a different PR?</p>", "type": "rendered"}, "created_on": "2017-06-07T20:14:50.322730+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2017-06-07T20:14:50.330602+00:00", "type": "pullrequest_comment", "id": 38403221}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38400641.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38400641"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@ericr86 All requested/discussed changes have been made. Thanks!", "markup": "markdown", "html": "<p>@ericr86 All requested/discussed changes have been made. Thanks!</p>", "type": "rendered"}, "created_on": "2017-06-07T19:33:24.514005+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-06-07T19:33:24.522510+00:00", "type": "pullrequest_comment", "id": 38400641}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c8b4d17a324f", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/c8b4d17a324f"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/c8b4d17a324f"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T19:30:29.022487+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e7c6d167ff38", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/e7c6d167ff38"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/e7c6d167ff38"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T19:28:09.781911+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38400280.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38400280"}}, "parent": {"id": 38398364, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38398364.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38398364"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "We've renamed the `save_window` function in task.py to `save_gmtk_observation_files`", "markup": "markdown", "html": "<p>We've renamed the <code>save_window</code> function in task.py to <code>save_gmtk_observation_files</code></p>", "type": "rendered"}, "created_on": "2017-06-07T19:27:33.728782+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-06-07T19:27:33.731739+00:00", "type": "pullrequest_comment", "id": 38400280}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38400181.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38400181"}}, "parent": {"id": 38389618, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38389618.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38389618"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Note: reverted this refactor because it would require additional complexity in creating copies of all mutable objects such that they can be safely passed back", "markup": "markdown", "html": "<p>Note: reverted this refactor because it would require additional complexity in creating copies of all mutable objects such that they can be safely passed back</p>", "type": "rendered"}, "created_on": "2017-06-07T19:25:53.511461+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-06-07T19:25:53.513776+00:00", "type": "pullrequest_comment", "id": 38400181}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "dbe9e88a5f94", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/dbe9e88a5f94"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/dbe9e88a5f94"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T19:24:54.175199+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38398364.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38398364"}}, "parent": {"id": 38396833, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38396833.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38396833"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "It's not ideal. Another possibility would be to rename all task functions `task_*` to emphasize their shared interface.", "markup": "markdown", "html": "<p>It's not ideal. Another possibility would be to rename all task functions <code>task_*</code> to emphasize their shared interface.</p>", "type": "rendered"}, "created_on": "2017-06-07T18:57:51.800035+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2017-06-07T18:57:51.802507+00:00", "type": "pullrequest_comment", "id": 38398364}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38396833.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38396833"}}, "parent": {"id": 38396722, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38396722.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38396722"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "`observations.save_window` is not used/imported in `task.py`. I was just wondering if it was OK that there is a `save_window` function in both observations.py and task.py that have somewhat different functions, even though they technically don't interact.", "markup": "markdown", "html": "<p><code>observations.save_window</code> is not used/imported in <code>task.py</code>. I was just wondering if it was OK that there is a <code>save_window</code> function in both observations.py and task.py that have somewhat different functions, even though they technically don't interact.</p>", "type": "rendered"}, "created_on": "2017-06-07T18:36:25.342257+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-06-07T18:40:40.243904+00:00", "type": "pullrequest_comment", "id": 38396833}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38396722.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38396722"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "`from observations import save_window as observations_save_window`?", "markup": "markdown", "html": "<p><code>from observations import save_window as observations_save_window</code>?</p>", "type": "rendered"}, "created_on": "2017-06-07T18:35:09.178929+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2017-06-07T18:35:09.213979+00:00", "type": "pullrequest_comment", "id": 38396722}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38396537.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38396537"}}, "parent": {"id": 38394721, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38394721.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38394721"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "It's what we've used everywhere else, including elsewhere in run.py.", "markup": "markdown", "html": "<p>It's what we've used everywhere else, including elsewhere in run.py.</p>", "type": "rendered"}, "created_on": "2017-06-07T18:32:24.866357+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2017-06-07T18:32:24.868703+00:00", "type": "pullrequest_comment", "id": 38396537}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38395655.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38395655"}}, "parent": {"id": 38383685, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38383685.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38383685"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I just realised there is another ```save_window``` function in observations.py in the Observations class. It is a wrapper function for `_save_window`. Alternatively, I could keep the verb/kind as save/window and rename the `task.py` function `run_save_window`, rather than `save_window`? The `save_window` in `task.py` does call `_save_window`, but is not just a wrapper function.", "markup": "markdown", "html": "<p>I just realised there is another <code>save_window</code> function in observations.py in the Observations class. It is a wrapper function for <code>_save_window</code>. Alternatively, I could keep the verb/kind as save/window and rename the <code>task.py</code> function <code>run_save_window</code>, rather than <code>save_window</code>? The <code>save_window</code> in <code>task.py</code> does call <code>_save_window</code>, but is not just a wrapper function.</p>", "type": "rendered"}, "created_on": "2017-06-07T18:18:57.593091+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-06-07T18:21:17.669480+00:00", "type": "pullrequest_comment", "id": 38395655}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38394721.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38394721"}}, "parent": {"id": 38389449, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38389449.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38389449"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Why is this the preferred method over using a write method? Is it strictly to avoid a newline character? At some point this print statement syntax needs to be removed in the future anyway. Do you want to keep it as print statements for now for one big print statement replacement in the future?", "markup": "markdown", "html": "<p>Why is this the preferred method over using a write method? Is it strictly to avoid a newline character? At some point this print statement syntax needs to be removed in the future anyway. Do you want to keep it as print statements for now for one big print statement replacement in the future?</p>", "type": "rendered"}, "created_on": "2017-06-07T18:04:48.898347+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2017-06-07T18:09:21.159757+00:00", "type": "pullrequest_comment", "id": 38394721}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9d08a42a9a31", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/9d08a42a9a31"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/9d08a42a9a31"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T16:59:23.674069+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38389618.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38389618"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@ericr86 Would you mind double-checking if my refactoring of the validation set calculation function is correct or if this refactoring is preferable? Eg I didn't miss passing anything back to the loop and that mutable objects are being modified and passed correctly...", "markup": "markdown", "html": "<p>@ericr86 Would you mind double-checking if my refactoring of the validation set calculation function is correct or if this refactoring is preferable? Eg I didn't miss passing anything back to the loop and that mutable objects are being modified and passed correctly...</p>", "type": "rendered"}, "created_on": "2017-06-07T16:52:13.008139+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-06-07T16:52:13.022889+00:00", "type": "pullrequest_comment", "id": 38389618}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "729ae52a60bd", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/729ae52a60bd"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/729ae52a60bd"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T16:50:43.243134+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38389449.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38389449"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "How about using the `print >>` syntax for now.", "markup": "markdown", "html": "<p>How about using the <code>print &gt;&gt;</code> syntax for now.</p>", "type": "rendered"}, "created_on": "2017-06-07T16:50:08.587320+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "updated_on": "2017-06-07T16:50:08.611236+00:00", "type": "pullrequest_comment", "id": 38389449}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "323f90ff5b22", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/323f90ff5b22"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/323f90ff5b22"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T16:48:54.523675+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "45e390be6687", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/45e390be6687"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/45e390be6687"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T16:47:31.620811+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5cafcebfab33", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/5cafcebfab33"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/5cafcebfab33"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T16:44:51.976552+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38387444.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38387444"}}, "parent": {"id": 38382232, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382232.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382232"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@hoffman Need to import it from ```from __future__ import print_function```, which I think will overwrite the Python 2.7 ```print```, which some parts of Segway still use. How should I proceed?", "markup": "markdown", "html": "<p>@hoffman Need to import it from <code>from __future__ import print_function</code>, which I think will overwrite the Python 2.7 <code>print</code>, which some parts of Segway still use. How should I proceed?</p>", "type": "rendered"}, "created_on": "2017-06-07T16:24:51.110006+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-06-07T16:24:51.119108+00:00", "type": "pullrequest_comment", "id": 38387444}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "335e97cb78b0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/335e97cb78b0"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/335e97cb78b0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T16:15:06.436339+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using ```--validation-fraction```, or ```--validation-coords```.\r\n\r\n* Using ```--validation-fraction```:\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\n* Using ```--validation-coords```:\r\nThe validation set is whatever is specified in ```--validation-coords```, with ```--exclude-coords``` subtracted. Training set is whatever is specified in ```--include-coords```, with ```--exclude-coords``` subtracted.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior log probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the sum taken to be the log(prob(evidence)) for the entire set (such that we obtain the intersection of partial prob(E)'s).\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and log(prob(E)) for each round for instance xx\r\n* ```validation.sum.xx.tab``` logs the sum of log(prob(E))'s for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.sum.xx.ll``` logs the last full validation set log(prob(E)) for instance xx\r\n* ```validation.sum.winner.xx.ll``` logs the so-far best full validation set log(prob(E)) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.sum.ll``` will simply log the final best full validation set log(prob(E)) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "515ad3227556", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/515ad3227556.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/515ad3227556"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1286de552ac6", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/1286de552ac6"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/1286de552ac6"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-06-07T16:11:44.774386+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38385518.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38385518"}}, "parent": {"id": 38379876, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38379876.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38379876"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I have renamed it ```add_starts_ends```, added a docstring, and refactored out the ```update_starts``` function", "markup": "markdown", "html": "<p>I have renamed it <code>add_starts_ends</code>, added a docstring, and refactored out the <code>update_starts</code> function</p>", "type": "rendered"}, "created_on": "2017-06-07T16:00:56.718793+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-06-07T16:00:56.721722+00:00", "type": "pullrequest_comment", "id": 38385518}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38383685.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38383685"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Nothing in saving the window is specific to validation. Make the verb/kind \"save\" \"window\" instead (and similar changes to function names). It will be useful for other things then.", "markup": "markdown", "html": "<p>Nothing in saving the window is specific to validation. Make the verb/kind \"save\" \"window\" instead (and similar changes to function names). It will be useful for other things then.</p>", "type": "rendered"}, "created_on": "2017-06-07T15:43:35.013039+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:43:35.015980+00:00", "type": "pullrequest_comment", "id": 38383685}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38383092.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38383092"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "We have got to refactor some of this repetition someday. Although not today.", "markup": "markdown", "html": "<p>We have got to refactor some of this repetition someday. Although not today.</p>", "type": "rendered"}, "created_on": "2017-06-07T15:38:02.243028+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:38:02.245638+00:00", "type": "pullrequest_comment", "id": 38383092}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382591.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382591"}}, "parent": {"id": 38382037, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382037.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382037"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "```output_dirpath``` is no longer memoized, so this will run every time ```*_dirpath``` is required by Segway. No need to create the directory if it already exists", "markup": "markdown", "html": "<p><code>output_dirpath</code> is no longer memoized, so this will run every time <code>*_dirpath</code> is required by Segway. No need to create the directory if it already exists</p>", "type": "rendered"}, "created_on": "2017-06-07T15:32:58.209730+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-06-07T15:32:58.213124+00:00", "type": "pullrequest_comment", "id": 38382591}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382482.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382482"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Use `attrgetter` from the `operator` module.", "markup": "markdown", "html": "<p>Use <code>attrgetter</code> from the <code>operator</code> module.</p>", "type": "rendered"}, "created_on": "2017-06-07T15:31:49.515073+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:31:49.517950+00:00", "type": "pullrequest_comment", "id": 38382482}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382463.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382463"}}, "parent": {"id": 38382129, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382129.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382129"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Doesn't update ```*_dirpath``` when Segway moves from 'queueing validation set creation jobs' to 'queueing training jobs/threads because the property ends up memoized.", "markup": "markdown", "html": "<p>Doesn't update <code>*_dirpath</code> when Segway moves from 'queueing validation set creation jobs' to 'queueing training jobs/threads because the property ends up memoized.</p>", "type": "rendered"}, "created_on": "2017-06-07T15:31:34.657674+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-06-07T15:31:34.660390+00:00", "type": "pullrequest_comment", "id": 38382463}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382306.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382306"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Need a comment explaining these deletions", "markup": "markdown", "html": "<p>Need a comment explaining these deletions</p>", "type": "rendered"}, "created_on": "2017-06-07T15:29:53.240248+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:29:53.243443+00:00", "type": "pullrequest_comment", "id": 38382306}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382232.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382232"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "prefer use of `print()` to `write()` with `\"\\n\"`", "markup": "markdown", "html": "<p>prefer use of <code>print()</code> to <code>write()</code> with <code>\"\\n\"</code></p>", "type": "rendered"}, "created_on": "2017-06-07T15:29:09.933963+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:29:09.937868+00:00", "type": "pullrequest_comment", "id": 38382232}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382129.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382129"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Why are these no longer properties?", "markup": "markdown", "html": "<p>Why are these no longer properties?</p>", "type": "rendered"}, "created_on": "2017-06-07T15:27:58.834072+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:27:58.837976+00:00", "type": "pullrequest_comment", "id": 38382129}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38382037.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38382037"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Can you add a comment justifying this change", "markup": "markdown", "html": "<p>Can you add a comment justifying this change</p>", "type": "rendered"}, "created_on": "2017-06-07T15:27:12.387162+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:27:12.391199+00:00", "type": "pullrequest_comment", "id": 38382037}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38380634.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38380634"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "`Cannot specify validation sets using both fraction and explicit coordinates`", "markup": "markdown", "html": "<p><code>Cannot specify validation sets using both fraction and explicit coordinates</code></p>", "type": "rendered"}, "created_on": "2017-06-07T15:14:26.071369+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:14:26.073918+00:00", "type": "pullrequest_comment", "id": 38380634}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38380525.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38380525"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Can you add a comment about the difference between `VERB` and `KIND`?", "markup": "markdown", "html": "<p>Can you add a comment about the difference between <code>VERB</code> and <code>KIND</code>?</p>", "type": "rendered"}, "created_on": "2017-06-07T15:13:29.023077+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:13:29.026468+00:00", "type": "pullrequest_comment", "id": 38380525}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38380135.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38380135"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Can everything here and below be refactored into a new method? Would reduce some of the problems you seem to be having with lines that are too small needing to be split up a lot", "markup": "markdown", "html": "<p>Can everything here and below be refactored into a new method? Would reduce some of the problems you seem to be having with lines that are too small needing to be split up a lot</p>", "type": "rendered"}, "created_on": "2017-06-07T15:09:54.361013+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:09:54.364735+00:00", "type": "pullrequest_comment", "id": 38380135}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38380040.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38380040"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Should really have at least the first parenthesis show up on this line", "markup": "markdown", "html": "<p>Should really have at least the first parenthesis show up on this line</p>", "type": "rendered"}, "created_on": "2017-06-07T15:09:03.837401+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:09:03.839806+00:00", "type": "pullrequest_comment", "id": 38380040}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38379876.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38379876"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I know you didn't write `process_new_windows()` but I think it ideally needs a better name and it definitely needs a docstring", "markup": "markdown", "html": "<p>I know you didn't write <code>process_new_windows()</code> but I think it ideally needs a better name and it definitely needs a docstring</p>", "type": "rendered"}, "created_on": "2017-06-07T15:07:49.151962+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:07:49.154941+00:00", "type": "pullrequest_comment", "id": 38379876}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38379332.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38379332"}}, "parent": {"id": 38378922, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378922.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378922"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I can see use of `deque.popleft()` below", "markup": "markdown", "html": "<p>I can see use of <code>deque.popleft()</code> below</p>", "type": "rendered"}, "created_on": "2017-06-07T15:02:34.839295+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:02:34.842743+00:00", "type": "pullrequest_comment", "id": 38379332}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38379243.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38379243"}}, "parent": {"id": 38378922, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378922.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378922"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I know you didn't write it originally but nonetheless such a comment would be useful here :)", "markup": "markdown", "html": "<p>I know you didn't write it originally but nonetheless such a comment would be useful here :)</p>", "type": "rendered"}, "created_on": "2017-06-07T15:01:49.074778+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:01:49.079762+00:00", "type": "pullrequest_comment", "id": 38379243}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38379191.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38379191"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Be clearer in doc that this modifies input paramet3er `windows`.", "markup": "markdown", "html": "<p>Be clearer in doc that this modifies input paramet3er <code>windows</code>.</p>", "type": "rendered"}, "created_on": "2017-06-07T15:01:12.802908+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:01:12.805868+00:00", "type": "pullrequest_comment", "id": 38379191}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38379136.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38379136"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "`Remove windows from training set and add them to validation set`", "markup": "markdown", "html": "<p><code>Remove windows from training set and add them to validation set</code></p>", "type": "rendered"}, "created_on": "2017-06-07T15:00:44.181963+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T15:00:44.187818+00:00", "type": "pullrequest_comment", "id": 38379136}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378933.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378933"}}, "parent": {"id": 38378730, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378730.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378730"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "They can be tab-delimited without actually having any tabs ;)\n\nThe point is it can easily be read into software that expects tab-delimited data", "markup": "markdown", "html": "<p>They can be tab-delimited without actually having any tabs ;)</p>\n<p>The point is it can easily be read into software that expects tab-delimited data</p>", "type": "rendered"}, "created_on": "2017-06-07T14:58:54.961271+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T14:58:54.965331+00:00", "type": "pullrequest_comment", "id": 38378933}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378922.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378922"}}, "parent": {"id": 38378524, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378524.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378524"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@hoffman This is old Segway code that was refactored into smaller functions for clarity. I am assuming a deque was used by the writer for speed of access at the ends.", "markup": "markdown", "html": "<p>@hoffman This is old Segway code that was refactored into smaller functions for clarity. I am assuming a deque was used by the writer for speed of access at the ends.</p>", "type": "rendered"}, "created_on": "2017-06-07T14:58:51.233840+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-06-07T14:58:51.245754+00:00", "type": "pullrequest_comment", "id": 38378922}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378730.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378730"}}, "parent": {"id": 38378326, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378326.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378326"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@hoffman Are the ```likelihood.tab``` files actually tab-delimited though? Isn't there only one value per line?", "markup": "markdown", "html": "<p>@hoffman Are the <code>likelihood.tab</code> files actually tab-delimited though? Isn't there only one value per line?</p>", "type": "rendered"}, "created_on": "2017-06-07T14:57:18.435699+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-06-07T14:57:18.449102+00:00", "type": "pullrequest_comment", "id": 38378730}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/38378524.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-38378524"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Need comment for why a `deque` was used", "markup": "markdown", "html": "<p>Need comment for why a <code>deque</code> was used</p>", "type": "rendered"}, "created_on": "2017-06-07T14:55:37.808783+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2017-06-07T14:55:37.812130+00:00", "type": "pullrequest_comment", "id": 38378524}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}], "next": "data/repositories/hoffmanlab/segway/pullrequests/74/activity_ctx=GxfnECbHA.json"}