{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37542883.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/rcwchan/segway:39f84457c86c..13d4e9a1de8f?path=segway%2Fobservations.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37542883"}}, "parent": {"id": 37533886, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/37533886.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-37533886"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Is it correct that this section would then become:\n\n\n```\n#!python\n\n591                     new_validation_windows = subtract_regions(start, end, chr_exclude_coords)\n592                     start, end = process_new_windows(new_validation_windows, starts, ends)\n593                     if start:\n594                         # skip or split long sequences\n595                         new_validation_windows = self.skip_or_split_window(start, end)\n596                         start, end = process_new_windows(new_validation_windows, starts, ends)\n597                         if start:\n598                             for world in xrange(self.num_worlds):\n599                                 validation_windows.append(Window(world, chrom, start, end))\n\n```\n?\n\n", "markup": "markdown", "html": "<p>Is it correct that this section would then become:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"mi\">591</span>                     <span class=\"n\">new_validation_windows</span> <span class=\"o\">=</span> <span class=\"n\">subtract_regions</span><span class=\"p\">(</span><span class=\"n\">start</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"p\">,</span> <span class=\"n\">chr_exclude_coords</span><span class=\"p\">)</span>\n<span class=\"mi\">592</span>                     <span class=\"n\">start</span><span class=\"p\">,</span> <span class=\"n\">end</span> <span class=\"o\">=</span> <span class=\"n\">process_new_windows</span><span class=\"p\">(</span><span class=\"n\">new_validation_windows</span><span class=\"p\">,</span> <span class=\"n\">starts</span><span class=\"p\">,</span> <span class=\"n\">ends</span><span class=\"p\">)</span>\n<span class=\"mi\">593</span>                     <span class=\"k\">if</span> <span class=\"n\">start</span><span class=\"p\">:</span>\n<span class=\"mi\">594</span>                         <span class=\"c1\"># skip or split long sequences</span>\n<span class=\"mi\">595</span>                         <span class=\"n\">new_validation_windows</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">skip_or_split_window</span><span class=\"p\">(</span><span class=\"n\">start</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"p\">)</span>\n<span class=\"mi\">596</span>                         <span class=\"n\">start</span><span class=\"p\">,</span> <span class=\"n\">end</span> <span class=\"o\">=</span> <span class=\"n\">process_new_windows</span><span class=\"p\">(</span><span class=\"n\">new_validation_windows</span><span class=\"p\">,</span> <span class=\"n\">starts</span><span class=\"p\">,</span> <span class=\"n\">ends</span><span class=\"p\">)</span>\n<span class=\"mi\">597</span>                         <span class=\"k\">if</span> <span class=\"n\">start</span><span class=\"p\">:</span>\n<span class=\"mi\">598</span>                             <span class=\"k\">for</span> <span class=\"n\">world</span> <span class=\"ow\">in</span> <span class=\"nb\">xrange</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">num_worlds</span><span class=\"p\">):</span>\n<span class=\"mi\">599</span>                                 <span class=\"n\">validation_windows</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">Window</span><span class=\"p\">(</span><span class=\"n\">world</span><span class=\"p\">,</span> <span class=\"n\">chrom</span><span class=\"p\">,</span> <span class=\"n\">start</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"p\">))</span>\n</pre></div>\n\n\n<p>?</p>", "type": "rendered"}, "created_on": "2017-05-24T18:16:24.585798+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {"to": null, "from": null, "outdated": true, "path": "segway/observations.py"}, "updated_on": "2017-05-24T18:16:24.588136+00:00", "type": "pullrequest_comment", "id": 37542883}