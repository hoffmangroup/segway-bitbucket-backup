{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699626.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699626"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Ideally this string should be in a constant somehow", "markup": "markdown", "html": "<p>Ideally this string should be in a constant somehow</p>", "type": "rendered"}, "created_on": "2017-05-11T20:22:34.394055+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:22:34.397080+00:00", "type": "pullrequest_comment", "id": 36699626}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699589.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699589"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "The validation match group numbers should be consts of some sort somewhere", "markup": "markdown", "html": "<p>The validation match group numbers should be consts of some sort somewhere</p>", "type": "rendered"}, "created_on": "2017-05-11T20:22:01.553397+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:22:01.555595+00:00", "type": "pullrequest_comment", "id": 36699589}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699567.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699567"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Maybe a RuntimeError or a ValueError instead?", "markup": "markdown", "html": "<p>Maybe a RuntimeError or a ValueError instead?</p>", "type": "rendered"}, "created_on": "2017-05-11T20:21:42.390026+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:21:42.394139+00:00", "type": "pullrequest_comment", "id": 36699567}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36699423.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36699423"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "A docstring on what this expects as input and what it is returning would be really helpful here.", "markup": "markdown", "html": "<p>A docstring on what this expects as input and what it is returning would be really helpful here.</p>", "type": "rendered"}, "created_on": "2017-05-11T20:19:35.792047+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T20:19:35.795806+00:00", "type": "pullrequest_comment", "id": 36699423}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36696807.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36696807"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Is there an issue that you've effectively shuffled self.windows? Does any function downstream rely on the fact that these windows were ordered in the first place? Perhaps you want to have a separate variable name to track all windows, the training windows and the validation windows?", "markup": "markdown", "html": "<p>Is there an issue that you've effectively shuffled self.windows? Does any function downstream rely on the fact that these windows were ordered in the first place? Perhaps you want to have a separate variable name to track all windows, the training windows and the validation windows?</p>", "type": "rendered"}, "created_on": "2017-05-11T19:39:06.277411+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T19:40:24.297919+00:00", "type": "pullrequest_comment", "id": 36696807}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36695497.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36695497"}}, "parent": {"id": 36693480, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36693480.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36693480"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Validation set creation occurs before any training threads are spawned, so the 'random seed' at this point is just the one set in the environment variable. So the random state doesn't technically come from 'instance 0', because 'instance 0' doesn't exist at this point yet.\n\nIt is coincidence that the random seed ultimately ends up being the same as that for the later train instance 0 though (because the seed for an instance is seed+instance #).", "markup": "markdown", "html": "<p>Validation set creation occurs before any training threads are spawned, so the 'random seed' at this point is just the one set in the environment variable. So the random state doesn't technically come from 'instance 0', because 'instance 0' doesn't exist at this point yet.</p>\n<p>It is coincidence that the random seed ultimately ends up being the same as that for the later train instance 0 though (because the seed for an instance is seed+instance #).</p>", "type": "rendered"}, "created_on": "2017-05-11T19:19:26.412322+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-11T19:37:22.108762+00:00", "type": "pullrequest_comment", "id": 36695497}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36695165.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36695165"}}, "parent": {"id": 36693675, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36693675.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36693675"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I guess that depends on when the memoisation occurs? Is it only when self.windows is set in line 1978 of run.py? self.windows is not set until after this code is run, so I'm not sure how that would work", "markup": "markdown", "html": "<p>I guess that depends on when the memoisation occurs? Is it only when self.windows is set in line 1978 of run.py? self.windows is not set until after this code is run, so I'm not sure how that would work</p>", "type": "rendered"}, "created_on": "2017-05-11T19:14:25.688265+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-11T19:16:31.657805+00:00", "type": "pullrequest_comment", "id": 36695165}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36694983.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36694983"}}, "parent": {"id": 36693571, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36693571.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36693571"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "It's used to create ```validation_float/int_filepath```; ```filelistpath``` is different", "markup": "markdown", "html": "<p>It's used to create <code>validation_float/int_filepath</code>; <code>filelistpath</code> is different</p>", "type": "rendered"}, "created_on": "2017-05-11T19:12:03.601614+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-11T19:12:03.604025+00:00", "type": "pullrequest_comment", "id": 36694983}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36693675.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36693675"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "There is a `window_lens` memoized property that you might want to use here instead. Or you can take the `len(window)` too, see class Window in _util.py.", "markup": "markdown", "html": "<p>There is a <code>window_lens</code> memoized property that you might want to use here instead. Or you can take the <code>len(window)</code> too, see class Window in _util.py.</p>", "type": "rendered"}, "created_on": "2017-05-11T19:07:38.951761+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T19:09:41.344948+00:00", "type": "pullrequest_comment", "id": 36693675}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36693571.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36693571"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Why is `validation_obs_dirpath` used here when `validation_float/int_filelistpath` both having the `validation_obs_dirpath` as a prefix from `make_validation_filepaths`?", "markup": "markdown", "html": "<p>Why is <code>validation_obs_dirpath</code> used here when <code>validation_float/int_filelistpath</code> both having the <code>validation_obs_dirpath</code> as a prefix from <code>make_validation_filepaths</code>?</p>", "type": "rendered"}, "created_on": "2017-05-11T19:06:13.158233+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T19:06:13.160514+00:00", "type": "pullrequest_comment", "id": 36693571}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36693480.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36693480"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Why `random_state` over `random_seed`? Presumably the 'random_state' comes from instance 0? ", "markup": "markdown", "html": "<p>Why <code>random_state</code> over <code>random_seed</code>? Presumably the 'random_state' comes from instance 0? </p>", "type": "rendered"}, "created_on": "2017-05-11T19:04:27.451216+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-11T19:04:27.453487+00:00", "type": "pullrequest_comment", "id": 36693480}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36683763.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36683763"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "It's worth considering changing a testcase like `data` to test for minibatch and a validation dataset.", "markup": "markdown", "html": "<p>It's worth considering changing a testcase like <code>data</code> to test for minibatch and a validation dataset.</p>", "type": "rendered"}, "created_on": "2017-05-11T16:49:54.578204+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2017-05-11T16:49:54.580912+00:00", "type": "pullrequest_comment", "id": 36683763}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36682016.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36682016"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "What specifically do the `.ll` extensions mean? Anything specific for the 'validation' files? I thought they stood for log liklihood? If they are not log liklihood values, perhaps a better extension would be better suited such as 'tab' (or maybe 'csv'). Also if possible, it would be great if `validation.weightedaverage.winner.xx.ll` also logged which round it the winner came from.", "markup": "markdown", "html": "<p>What specifically do the <code>.ll</code> extensions mean? Anything specific for the 'validation' files? I thought they stood for log liklihood? If they are not log liklihood values, perhaps a better extension would be better suited such as 'tab' (or maybe 'csv'). Also if possible, it would be great if <code>validation.weightedaverage.winner.xx.ll</code> also logged which round it the winner came from.</p>", "type": "rendered"}, "created_on": "2017-05-11T16:27:32.326729+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2017-05-11T16:40:08.984079+00:00", "type": "pullrequest_comment", "id": 36682016}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36682528.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36682528"}}, "parent": {"id": 36682016, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36682016.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36682016"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I used the defined constant ```EXT_LIKELIHOOD```, which is .ll, so I thought it stood for **l**ike**l**ihood. But I could be wrong\n\nAlso, it is a 'log likelihood' in the sense that the value being recorded is log prob(e).\n\nThe .ll files log only the validation likelihood for the last recorded round (same as the train log likelihood files).\n\n.tab is already used, to tabulate previous sets of validation likelihood as per the description on this PR. The structure is set up to mirror the way the training log likelihood is recorded.\n\nI'll look into if it's possible to log the round of the winner in the weighted avg, but it might not be easily possible (or at least, very nice)", "markup": "markdown", "html": "<p>I used the defined constant <code>EXT_LIKELIHOOD</code>, which is .ll, so I thought it stood for <strong>l</strong>ike<strong>l</strong>ihood. But I could be wrong</p>\n<p>Also, it is a 'log likelihood' in the sense that the value being recorded is log prob(e).</p>\n<p>The .ll files log only the validation likelihood for the last recorded round (same as the train log likelihood files).</p>\n<p>.tab is already used, to tabulate previous sets of validation likelihood as per the description on this PR. The structure is set up to mirror the way the training log likelihood is recorded.</p>\n<p>I'll look into if it's possible to log the round of the winner in the weighted avg, but it might not be easily possible (or at least, very nice)</p>", "type": "rendered"}, "created_on": "2017-05-11T16:34:12.315161+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-05-11T16:37:15.909401+00:00", "type": "pullrequest_comment", "id": 36682528}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "fd22b5dcced8", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/fd22b5dcced8.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/fd22b5dcced8"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5084824ff17d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/5084824ff17d"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/5084824ff17d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-11T15:34:15.437957+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36606055.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36606055"}}, "parent": {"id": 36605651, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605651.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605651"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Maybe. I can see an argument either way even though I'd be more inclined to explicity write 'validation_fraction > 0.0' everytime. Alternatively you could use a memoized property of `self.validation_fraction > 0.0` if you really wanted. Or writing a function `is_validating_training` or something along those lines would probably be even better.", "markup": "markdown", "html": "<p>Maybe. I can see an argument either way even though I'd be more inclined to explicity write 'validation_fraction &gt; 0.0' everytime. Alternatively you could use a memoized property of <code>self.validation_fraction &gt; 0.0</code> if you really wanted. Or writing a function <code>is_validating_training</code> or something along those lines would probably be even better.</p>", "type": "rendered"}, "created_on": "2017-05-10T20:13:00.624192+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-10T20:13:00.627420+00:00", "type": "pullrequest_comment", "id": 36606055}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605713.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605713"}}, "parent": {"id": 36605563, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605563.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605563"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "If it's only called once and there's only going to be one outcome, then yes please remove the dead parameter and update the description.", "markup": "markdown", "html": "<p>If it's only called once and there's only going to be one outcome, then yes please remove the dead parameter and update the description.</p>", "type": "rendered"}, "created_on": "2017-05-10T20:07:34.386266+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-10T20:07:34.388559+00:00", "type": "pullrequest_comment", "id": 36605713}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605651.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605651"}}, "parent": {"id": 36605456, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605456.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605456"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Useful to check if validation is enabled (eg ```if self.validate```) rather than checking ```if self.validation_fraction > 0.0``` every time?", "markup": "markdown", "html": "<p>Useful to check if validation is enabled (eg <code>if self.validate</code>) rather than checking <code>if self.validation_fraction &gt; 0.0</code> every time?</p>", "type": "rendered"}, "created_on": "2017-05-10T20:06:15.130354+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-10T20:06:23.732406+00:00", "type": "pullrequest_comment", "id": 36605651}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605563.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605563"}}, "parent": {"id": 36605255, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605255.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605255"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "They are not placed in a temporary directory--when this is run, the temp flag is set to False: ```observations.create_validation_filepaths(temp=False)``` from run.py\n\nI copied this over from a similar function that acts on self.windows and the corresponding filepaths; should the message be changed?", "markup": "markdown", "html": "<p>They are not placed in a temporary directory--when this is run, the temp flag is set to False: <code>observations.create_validation_filepaths(temp=False)</code> from run.py</p>\n<p>I copied this over from a similar function that acts on self.windows and the corresponding filepaths; should the message be changed?</p>", "type": "rendered"}, "created_on": "2017-05-10T20:04:37.303299+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-10T20:05:08.091970+00:00", "type": "pullrequest_comment", "id": 36605563}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605456.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605456"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Why use a `res.validate` flag at all? res.validation_fraction > 0.0 should indicated that it should always be used in either case", "markup": "markdown", "html": "<p>Why use a <code>res.validate</code> flag at all? res.validation_fraction &gt; 0.0 should indicated that it should always be used in either case</p>", "type": "rendered"}, "created_on": "2017-05-10T20:02:53.820320+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-10T20:02:53.824469+00:00", "type": "pullrequest_comment", "id": 36605456}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605335.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605335"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "A trivial thing but I think this might contain an extra \"0\"", "markup": "markdown", "html": "<p>A trivial thing but I think this might contain an extra \"0\"</p>", "type": "rendered"}, "created_on": "2017-05-10T20:00:56.355389+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-10T20:00:56.358033+00:00", "type": "pullrequest_comment", "id": 36605335}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605329.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605329"}}, "parent": {"id": 36604733, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36604733.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36604733"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "I was thinking specifically of the case where the validation windows consumes all of the training windows, but yes. Thank you!", "markup": "markdown", "html": "<p>I was thinking specifically of the case where the validation windows consumes all of the training windows, but yes. Thank you!</p>", "type": "rendered"}, "created_on": "2017-05-10T20:00:49.180204+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {}, "updated_on": "2017-05-10T20:00:49.182342+00:00", "type": "pullrequest_comment", "id": 36605329}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605255.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605255"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "Why would you want to put the validation filepaths in a temporary directory?", "markup": "markdown", "html": "<p>Why would you want to put the validation filepaths in a temporary directory?</p>", "type": "rendered"}, "created_on": "2017-05-10T19:59:35.119851+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-10T19:59:45.746773+00:00", "type": "pullrequest_comment", "id": 36605255}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36605228.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36605228"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "@ericr86 Any suggestions on how to clean up this code would be really appreciated. Thanks!\n\nOh, I should note that reverse worlds does not work with this yet; I haven't been able to figure out how (I think it would require splitting up the validation set into reversed and un-reversed world-windows...)", "markup": "markdown", "html": "<p>@ericr86 Any suggestions on how to clean up this code would be really appreciated. Thanks!</p>\n<p>Oh, I should note that reverse worlds does not work with this yet; I haven't been able to figure out how (I think it would require splitting up the validation set into reversed and un-reversed world-windows...)</p>", "type": "rendered"}, "created_on": "2017-05-10T19:59:14.789490+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2017-05-10T19:59:14.801121+00:00", "type": "pullrequest_comment", "id": 36605228}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74/comments/36604733.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74/_/diff#comment-36604733"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}, "content": {"raw": "This should not be an assert nor should this be the error message. This can happen if the validation consumes 100% of the training regions too correct?\nRaise a ValueError instead or another more relevant exception if you can suggest one.", "markup": "markdown", "html": "<p>This should not be an assert nor should this be the error message. This can happen if the validation consumes 100% of the training regions too correct?\nRaise a ValueError instead or another more relevant exception if you can suggest one.</p>", "type": "rendered"}, "created_on": "2017-05-10T19:51:53.668880+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2017-05-10T19:51:53.671230+00:00", "type": "pullrequest_comment", "id": 36604733}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "fd22b5dcced8", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/fd22b5dcced8.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/fd22b5dcced8"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8ffeb4eb25f4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/8ffeb4eb25f4"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/8ffeb4eb25f4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-10T17:43:47.583608+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}, {"update": {"description": "Currently activated using either ```--minibatch-fraction``` and/or ```--validation-fraction```. If minibatch is used but the validation fraction is not specified, then the validation fraction will default to be the same as the minibatch fraction.\r\n\r\nThe validation set is chosen once, before training, from a random subset of the include coordinates satisfying the size given by the validation fraction. This subset is 'held out' from the training set. The remaining set of the include coords become the training windows.\r\n\r\nValidation set creation and validation itself are queued and submitted through ```segway-task```.\r\n\r\nIf validation is on, then the winner will be chosen (for both fixed and minibatch) from the params set (across all instances) that gives the best posterior probability of evidence.\r\n\r\nIf the validation set consists of multiple validation windows, then the weight-normalised average (weighted based on size of each window) is taken to be the prob(evidence) for the entire set.\r\n\r\nSegway file structure remains intact with some additions: ```observations/validation``` contains the observations files/lists for the validation set. \r\n\r\n```log``` folder now additionally contains the following .tab files:\r\n\r\n* ```validation.output.xx.tab``` logs all validation windows, size, and prob(E) for each round for instance xx\r\n* ```validation.weightedaverage.xx.tab``` logs the weighted average prob(E) for each round for instance xx\r\n\r\n```likelihood``` folder now additionally contains the following .ll files:\r\n\r\n* ```validation.output.xx.ll``` logs the last validation output for instance xx (note: this is the full gmtkJT output)\r\n* ```validation.output.winner.xx.ll``` logs the so-far best validation output for instance xx\r\n* ```validation.weightedaverage.xx.ll``` logs the last weighted prob(E) for instance xx\r\n* ```validation.weightedaverage.winner.xx.ll``` logs the so-far best weighted prob(E) for instance xx\r\n\r\nAnd finally, at the end, ```validation.output.ll``` and ```validation.weightedsum.ll``` will simply log the final best weighted prob(E) overall across all instances.\r\n\r\nI've tested this primarily using the data test using a small split sequences, as it has non-trivial data, and it appears to work as expected.\r\n\r\nA typical set of submitted tasks might look like this:\r\n\r\n\r\n```\r\n#!bash\r\n\r\nrachelc [ /scratch/segway-validate/test/data ]$ ./run.sh\r\nentering directory ./test-20170510.uhxw33\r\n+ SEGWAY_RAND_SEED=203078386\r\n+ segway --num-labels=4 --max-train-rounds=2 --validation-fraction=0.10 --split-sequences=7300 --cluster-opt= train ../test.genomedata traindir\r\n____ PROGRAM ENDED SUCCESSFULLY WITH STATUS 0 AT Wednesday May 10 2017, 12:48:04 EDT ____\r\nrunning locally 1: create_validation_set_chr21_9439553_9446643 ()\r\nrunning locally 2: create_validation_set_chr21_9552993_9560083 ()\r\nrunning locally 3: create_validation_set_chr21_9517543_9524633 ()\r\nrunning locally 1: emt0.0.7.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 2: emt0.0.22.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 3: emt0.0.21.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 4: emt0.0.20.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 5: emt0.0.19.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 6: emt0.0.18.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 7: emt0.0.17.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 8: emt0.0.16.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 9: emt0.0.15.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 10: emt0.0.14.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 11: emt0.0.13.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 12: emt0.0.12.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 13: emt0.0.11.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 14: emt0.0.10.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 15: emt0.0.9.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 16: emt0.0.8.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 17: emt0.0.6.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 18: emt0.0.5.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 19: emt0.0.4.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 20: emt0.0.3.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 21: emt0.0.2.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 22: emt0.0.1.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 23: emt0.0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 24: emt0.0.bundle.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\nrunning locally 25: validate0.0.traindir.6fa2ad7c35a011e78ed8989096b2d04e ()\r\n\r\n```", "title": "Validation on holdout set", "destination": {"commit": {"hash": "fd22b5dcced8", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/fd22b5dcced8.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/fd22b5dcced8"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8ffeb4eb25f4", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway/commit/8ffeb4eb25f4"}, "html": {"href": "https://bitbucket.org/rcwchan/segway/commits/8ffeb4eb25f4"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/rcwchan/segway"}, "html": {"href": "https://bitbucket.org/rcwchan/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}ts=python"}}, "type": "repository", "name": "segway", "full_name": "rcwchan/segway", "uuid": "{285886c8-7a4a-4d80-8fe1-3d4b0d9146f6}"}, "branch": {"name": "segway-validate"}}, "state": "OPEN", "author": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "date": "2017-05-10T17:43:47.529371+00:00"}, "pull_request": {"type": "pullrequest", "id": 74, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/74.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/74"}}, "title": "Validation on holdout set"}}]}