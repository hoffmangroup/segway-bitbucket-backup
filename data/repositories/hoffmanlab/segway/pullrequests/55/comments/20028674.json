{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/55/comments/20028674.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/rcwchan/segway_fork2:None..None?path=segway%2Frun.py"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/55/_/diff#comment-20028674"}}, "parent": {"id": 20027998, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/55/comments/20027998.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/55/_/diff#comment-20027998"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 55, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/55.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/55"}}, "title": "Change queueing functionality such that segway queues a shell file containing the to-be-queued arguments, instead of queueing the arguments themselves"}, "content": {"raw": "Yes, it's only ever called once, in:\n\n```\n#!python\n\ndef _log_cmdline(logfile, cmdline):\n    print >>logfile, \" \".join(map(quote_spaced_str, cmdline))\n\n```\nin run.py.\n\nThe purpose of the function was to add quotation marks only around arguments that had spaces in them (for example, ```\"-DCARD_SEG=4 -DINPUT_PARAMS_FILENAME=traindir/params/params.0.params.1 -DCARD_FRAMEINDEX=200000 -DSEGTRANSITION_WEIGHT_SCALE=1.0 -DCARD_SUBSEG=1\"```), however now we want quotation marks around all arguments. It seemed cleaner to me to simply modify this function, rather than add a function that would both detect arguments already with quotation marks, and then apply quotation marks if not.", "markup": "markdown", "html": "<p>Yes, it's only ever called once, in:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">_log_cmdline</span><span class=\"p\">(</span><span class=\"n\">logfile</span><span class=\"p\">,</span> <span class=\"n\">cmdline</span><span class=\"p\">):</span>\n    <span class=\"k\">print</span> <span class=\"o\">&gt;&gt;</span><span class=\"n\">logfile</span><span class=\"p\">,</span> <span class=\"s2\">&quot; &quot;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"n\">quote_spaced_str</span><span class=\"p\">,</span> <span class=\"n\">cmdline</span><span class=\"p\">))</span>\n</pre></div>\n\n\n<p>in run.py.</p>\n<p>The purpose of the function was to add quotation marks only around arguments that had spaces in them (for example, <code>\"-DCARD_SEG=4 -DINPUT_PARAMS_FILENAME=traindir/params/params.0.params.1 -DCARD_FRAMEINDEX=200000 -DSEGTRANSITION_WEIGHT_SCALE=1.0 -DCARD_SUBSEG=1\"</code>), however now we want quotation marks around all arguments. It seemed cleaner to me to simply modify this function, rather than add a function that would both detect arguments already with quotation marks, and then apply quotation marks if not.</p>", "type": "rendered"}, "created_on": "2016-06-21T14:23:53.571620+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {"to": null, "from": null, "outdated": false, "path": "segway/run.py"}, "updated_on": "2016-06-21T14:24:27.712810+00:00", "type": "pullrequest_comment", "id": 20028674}