{"rendered": {"description": {"raw": "RestartableJobs are sorted on a heap by their memory requirements. This change allows sorting of these objects on themselves rather than a tuple of their sorting key and the object itself.\r\n\r\nPreviously if memory requirements matched it would attempt to sort of the last element of the tuple which was the object itself. Since the object itself was not comparable, a `TypeError` would occur:\r\n\r\n`TypeError: '<' not supported between instances of 'RestartableJob' and 'RestartableJob'`\r\n\r\nThis simply moves the sorting criterion into a `__lt__` operator and removes storing a tuple in the heap itself.", "markup": "markdown", "html": "<p>RestartableJobs are sorted on a heap by their memory requirements. This change allows sorting of these objects on themselves rather than a tuple of their sorting key and the object itself.</p>\n<p>Previously if memory requirements matched it would attempt to sort of the last element of the tuple which was the object itself. Since the object itself was not comparable, a <code>TypeError</code> would occur:</p>\n<p><code>TypeError: '&lt;' not supported between instances of 'RestartableJob' and 'RestartableJob'</code></p>\n<p>This simply moves the sorting criterion into a <code>__lt__</code> operator and removes storing a tuple in the heap itself.</p>", "type": "rendered"}, "title": {"raw": "Add sorting capability to RestartableJob inside a heap", "markup": "markdown", "html": "<p>Add sorting capability to RestartableJob inside a heap</p>", "type": "rendered"}}, "type": "pullrequest", "description": "RestartableJobs are sorted on a heap by their memory requirements. This change allows sorting of these objects on themselves rather than a tuple of their sorting key and the object itself.\r\n\r\nPreviously if memory requirements matched it would attempt to sort of the last element of the tuple which was the object itself. Since the object itself was not comparable, a `TypeError` would occur:\r\n\r\n`TypeError: '<' not supported between instances of 'RestartableJob' and 'RestartableJob'`\r\n\r\nThis simply moves the sorting criterion into a `__lt__` operator and removes storing a tuple in the heap itself.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/pullrequests/104/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diffstat/hoffmanlab/segway:a95dc6d332c4%0D492896b2d658?from_pullrequest_id=104"}, "commits": {"href": "data/repositories/hoffmanlab/segway/pullrequests/104/commits.json"}, "self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/104.json"}, "comments": {"href": "data/repositories/hoffmanlab/segway/pullrequests/104/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/pullrequests/104/merge"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/104"}, "activity": {"href": "data/repositories/hoffmanlab/segway/pullrequests/104/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/diff/hoffmanlab/segway:a95dc6d332c4%0D492896b2d658?from_pullrequest_id=104"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segway/pullrequests/104/approve"}, "statuses": {"href": "data/repositories/hoffmanlab/segway/pullrequests/104/statuses_page=1.json"}}, "title": "Add sorting capability to RestartableJob inside a heap", "close_source_branch": true, "reviewers": [{"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}], "id": 104, "destination": {"commit": {"hash": "492896b2d658", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/492896b2d658.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/492896b2d658"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "created_on": "2019-06-13T18:27:58.795981+00:00", "summary": {"raw": "RestartableJobs are sorted on a heap by their memory requirements. This change allows sorting of these objects on themselves rather than a tuple of their sorting key and the object itself.\r\n\r\nPreviously if memory requirements matched it would attempt to sort of the last element of the tuple which was the object itself. Since the object itself was not comparable, a `TypeError` would occur:\r\n\r\n`TypeError: '<' not supported between instances of 'RestartableJob' and 'RestartableJob'`\r\n\r\nThis simply moves the sorting criterion into a `__lt__` operator and removes storing a tuple in the heap itself.", "markup": "markdown", "html": "<p>RestartableJobs are sorted on a heap by their memory requirements. This change allows sorting of these objects on themselves rather than a tuple of their sorting key and the object itself.</p>\n<p>Previously if memory requirements matched it would attempt to sort of the last element of the tuple which was the object itself. Since the object itself was not comparable, a <code>TypeError</code> would occur:</p>\n<p><code>TypeError: '&lt;' not supported between instances of 'RestartableJob' and 'RestartableJob'</code></p>\n<p>This simply moves the sorting criterion into a <code>__lt__</code> operator and removes storing a tuple in the heap itself.</p>", "type": "rendered"}, "source": {"commit": {"hash": "ff6858d94253", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ericr86/segway/commit/ff6858d94253"}, "html": {"href": "https://bitbucket.org/ericr86/segway/commits/ff6858d94253"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/ericr86/segway"}, "html": {"href": "https://bitbucket.org/ericr86/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e4afec35-c393-4c1b-9d35-155fcd95ef33}ts=python"}}, "type": "repository", "name": "segway", "full_name": "ericr86/segway", "uuid": "{e4afec35-c393-4c1b-9d35-155fcd95ef33}"}, "branch": {"name": "restartable-job-sorting"}}, "comment_count": 0, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2019-06-21T13:24:36.510253+00:00", "type": "participant", "approved": true, "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}}], "reason": "", "updated_on": "2019-06-21T13:26:37.359183+00:00", "author": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "merge_commit": {"hash": "a95dc6d332c4", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/a95dc6d332c4.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/a95dc6d332c4"}}}, "closed_by": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}}