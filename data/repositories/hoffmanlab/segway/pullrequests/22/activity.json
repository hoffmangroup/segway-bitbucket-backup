{"pagelen": 50, "values": [{"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "These changesets were concatenated and resubmitted in pull request #23", "source": {"commit": {"hash": "acfdabab54d5", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/acfdabab54d5"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/acfdabab54d5"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "DECLINED", "author": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "date": "2015-06-16T18:18:07.235780+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7565365.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7565365"}}, "parent": {"id": 7564428, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7564428.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7564428"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "done.", "markup": "markdown", "html": "<p>done.</p>", "type": "rendered"}, "created_on": "2015-06-16T14:37:33.027862+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {}, "updated_on": "2015-06-16T14:37:33.037093+00:00", "type": "pullrequest_comment", "id": 7565365}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "acfdabab54d5", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/acfdabab54d5"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/acfdabab54d5"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "OPEN", "author": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "date": "2015-06-16T14:37:15.318712+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7564428.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7564428"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "This is great. The only minor fix would be to change \"exists\" to \"exist\". After the minor edit I'll approve and request Michael to take a look at this again.", "markup": "markdown", "html": "<p>This is great. The only minor fix would be to change \"exists\" to \"exist\". After the minor edit I'll approve and request Michael to take a look at this again.</p>", "type": "rendered"}, "created_on": "2015-06-16T14:15:52.743455+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-16T14:15:52.754801+00:00", "type": "pullrequest_comment", "id": 7564428}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7538834.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7538834"}}, "parent": {"id": 7538640, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7538640.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7538640"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "done.", "markup": "markdown", "html": "<p>done.</p>", "type": "rendered"}, "created_on": "2015-06-15T18:41:22.255813+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {}, "updated_on": "2015-06-15T18:41:22.267876+00:00", "type": "pullrequest_comment", "id": 7538834}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b5cc81a89240", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/b5cc81a89240"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/b5cc81a89240"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "OPEN", "author": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "date": "2015-06-15T18:41:02.088202+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7538640.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7538640"}}, "parent": {"id": 7538593, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7538593.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7538593"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "You \"set\" the *filename* to read by literally assigning the file path to `recover_log_likelihood_tab_filepath`. Regardless, your suggestion sounds fine to me.", "markup": "markdown", "html": "<p>You \"set\" the <em>filename</em> to read by literally assigning the file path to <code>recover_log_likelihood_tab_filepath</code>. Regardless, your suggestion sounds fine to me.</p>", "type": "rendered"}, "created_on": "2015-06-15T18:32:49.549720+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-15T18:32:49.562989+00:00", "type": "pullrequest_comment", "id": 7538640}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7538593.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7538593"}}, "parent": {"id": 7538168, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7538168.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7538168"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Here I'm not really \"set\" the likelihood tab file, this is in the recovery function, and this is the tab file that I am going to read, not write. \nI think \"read the tab file that does not have a labeled number suffix\" sounds better.", "markup": "markdown", "html": "<p>Here I'm not really \"set\" the likelihood tab file, this is in the recovery function, and this is the tab file that I am going to read, not write. \nI think \"read the tab file that does not have a labeled number suffix\" sounds better.</p>", "type": "rendered"}, "created_on": "2015-06-15T18:30:34.690274+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {}, "updated_on": "2015-06-15T18:30:34.696783+00:00", "type": "pullrequest_comment", "id": 7538593}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7538168.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7538168"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "This is still a little confusing. Perhaps first state if the likelihood tab file does not exist in this case, then it means we're running a single instance which won't generate a tab file with an instance number suffix. Also it's not obvious at all that \"instance\" is the first parameter to make_log_likelihood_tab_filename. Instead of saying \"force instance=None\", I'd suggest something along the the lines of \"set the liklihood tab filename to a filename without a instance number suffix\".\n\nAlso a minor spelling mistake: \"exists\" is misspelled.\n\n\n", "markup": "markdown", "html": "<p>This is still a little confusing. Perhaps first state if the likelihood tab file does not exist in this case, then it means we're running a single instance which won't generate a tab file with an instance number suffix. Also it's not obvious at all that \"instance\" is the first parameter to make_log_likelihood_tab_filename. Instead of saying \"force instance=None\", I'd suggest something along the the lines of \"set the liklihood tab filename to a filename without a instance number suffix\".</p>\n<p>Also a minor spelling mistake: \"exists\" is misspelled.</p>", "type": "rendered"}, "created_on": "2015-06-15T18:14:59.538703+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-15T18:14:59.547083+00:00", "type": "pullrequest_comment", "id": 7538168}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7534859.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7534859"}}, "parent": {"id": 7533890, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7533890.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7533890"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "done", "markup": "markdown", "html": "<p>done</p>", "type": "rendered"}, "created_on": "2015-06-15T16:23:38.959090+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {}, "updated_on": "2015-06-15T16:23:38.966180+00:00", "type": "pullrequest_comment", "id": 7534859}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "260c8dc84cfd", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/260c8dc84cfd"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/260c8dc84cfd"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "OPEN", "author": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "date": "2015-06-15T16:22:09.535848+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7533951.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7533951"}}, "parent": {"id": 7533920, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7533920.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7533920"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "You should eliminate any warnings, errors, or test failures before submitting a pull request.", "markup": "markdown", "html": "<p>You should eliminate any warnings, errors, or test failures before submitting a pull request.</p>", "type": "rendered"}, "created_on": "2015-06-15T15:59:52.169453+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2015-06-15T15:59:52.176958+00:00", "type": "pullrequest_comment", "id": 7533951}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7533920.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7533920"}}, "parent": {"id": 7533858, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7533858.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7533858"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Yes it did warn this sorry I did not check the flake8 log carefully.", "markup": "markdown", "html": "<p>Yes it did warn this sorry I did not check the flake8 log carefully.</p>", "type": "rendered"}, "created_on": "2015-06-15T15:58:55.155978+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {}, "updated_on": "2015-06-15T15:58:55.165670+00:00", "type": "pullrequest_comment", "id": 7533920}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7533890.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7533890"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Please re-write this more clearly, I don't understand this comment.", "markup": "markdown", "html": "<p>Please re-write this more clearly, I don't understand this comment.</p>", "type": "rendered"}, "created_on": "2015-06-15T15:58:18.429167+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2015-06-15T15:58:18.442023+00:00", "type": "pullrequest_comment", "id": 7533890}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7533858.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7533858"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "`path` is already forked-path in this namespace, so you can't reimport it. You should be able to use that to do something like `recover_log_likelihood_tab_filepath.isfile()` I'm surprised flake8 didn't throw a warning for this.", "markup": "markdown", "html": "<p><code>path</code> is already forked-path in this namespace, so you can't reimport it. You should be able to use that to do something like <code>recover_log_likelihood_tab_filepath.isfile()</code> I'm surprised flake8 didn't throw a warning for this.</p>", "type": "rendered"}, "created_on": "2015-06-15T15:57:34.534933+00:00", "user": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "inline": {}, "updated_on": "2015-06-15T15:57:34.543830+00:00", "type": "pullrequest_comment", "id": 7533858}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7531742.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7531742"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "@hoffman this pull request is ready for your review", "markup": "markdown", "html": "<p>@hoffman this pull request is ready for your review</p>", "type": "rendered"}, "created_on": "2015-06-15T15:05:51.734054+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2015-06-15T15:05:51.750583+00:00", "type": "pullrequest_comment", "id": 7531742}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7531649.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7531649"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "done.", "markup": "markdown", "html": "<p>done.</p>", "type": "rendered"}, "created_on": "2015-06-15T15:03:26.685290+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "updated_on": "2015-06-15T15:03:26.691989+00:00", "type": "pullrequest_comment", "id": 7531649}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f898e608fc55", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/f898e608fc55"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/f898e608fc55"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "OPEN", "author": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "date": "2015-06-15T15:02:42.906264+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bdc630f05d02", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/bdc630f05d02"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/bdc630f05d02"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "OPEN", "author": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "date": "2015-06-15T15:02:01.116166+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7531537.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7531537"}}, "parent": {"id": 7530512, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7530512.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7530512"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Yeah that also sounds good to me.", "markup": "markdown", "html": "<p>Yeah that also sounds good to me.</p>", "type": "rendered"}, "created_on": "2015-06-15T15:00:11.111933+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-15T15:00:11.126138+00:00", "type": "pullrequest_comment", "id": 7531537}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7530512.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7530512"}}, "parent": {"id": 7528709, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7528709.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7528709"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "I think it should be \"any\" because the point here is that whole new part under if is dedicated to single instance run, thus there is no instance labeled files in the directory.", "markup": "markdown", "html": "<p>I think it should be \"any\" because the point here is that whole new part under if is dedicated to single instance run, thus there is no instance labeled files in the directory.</p>", "type": "rendered"}, "created_on": "2015-06-15T14:35:45.166634+00:00", "user": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "inline": {}, "updated_on": "2015-06-15T14:35:45.175906+00:00", "type": "pullrequest_comment", "id": 7530512}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7528763.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7528763"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Other than the minor edits I suggested below it looks good to me. Make the changes then mark them as complete here.", "markup": "markdown", "html": "<p>Other than the minor edits I suggested below it looks good to me. Make the changes then mark them as complete here.</p>", "type": "rendered"}, "created_on": "2015-06-15T13:53:49.798487+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2015-06-15T13:53:49.805248+00:00", "type": "pullrequest_comment", "id": 7528763}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7528752.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7528752"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "\"it's\" instead of \"its\"", "markup": "markdown", "html": "<p>\"it's\" instead of \"its\"</p>", "type": "rendered"}, "created_on": "2015-06-15T13:53:17.947583+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-15T13:53:17.957818+00:00", "type": "pullrequest_comment", "id": 7528752}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7528709.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7528709"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Remove the capitalization of \"Recover Directory\" and place a \"an\" before \"instance\"", "markup": "markdown", "html": "<p>Remove the capitalization of \"Recover Directory\" and place a \"an\" before \"instance\"</p>", "type": "rendered"}, "created_on": "2015-06-15T13:52:25.435124+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-15T13:52:25.445309+00:00", "type": "pullrequest_comment", "id": 7528709}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7528636.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7528636"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Remove the outer brackets (surrounding the \"not\") of the if statement", "markup": "markdown", "html": "<p>Remove the outer brackets (surrounding the \"not\") of the if statement</p>", "type": "rendered"}, "created_on": "2015-06-15T13:50:43.011937+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-15T13:50:43.018987+00:00", "type": "pullrequest_comment", "id": 7528636}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"comment": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22/comments/7528582.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22/_/diff#comment-7528582"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}, "content": {"raw": "Remove the leading whitespace on this empty line", "markup": "markdown", "html": "<p>Remove the leading whitespace on this empty line</p>", "type": "rendered"}, "created_on": "2015-06-15T13:49:13.024832+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "inline": {}, "updated_on": "2015-06-15T13:49:13.035307+00:00", "type": "pullrequest_comment", "id": 7528582}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "39683729b190", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/39683729b190"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/39683729b190"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "OPEN", "author": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "date": "2015-06-12T20:33:08.351197+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}, {"update": {"description": "This is a follow up to Issue 32 and Pull Request 20. \r\n\r\nPart of the fix to Issue 32 in Pull Request 20 cause the following autobuild failure in test case simplerecover\r\n\r\n```\r\n#!\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/virtualenv/python2.7/bin/segway\", line 9, in <module>\r\n    load_entry_point('segway==1.2.2.dev0', 'console_scripts', 'segway')()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2583, in main\r\n    return runner()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2395, in __call__\r\n    self.run(*args, **kwargs)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2361, in run\r\n    self.run_train()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1948, in run_train\r\n    instance_params = run_train_func(self.num_segs_range)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1957, in run_train_singlethread\r\n    res = [self.run_train_instance()]\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 1819, in run_train_instance\r\n    self.make_instance_initial_results()\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2129, in make_instance_initial_results\r\n    log_likelihood)\r\n  File \"/home/ubuntu/virtualenv/python2.7/local/lib/python2.7/site-packages/segway-1.2.2.dev0-py2.7.egg/segway/run.py\", line 2087, in recover_train_instance\r\n    with open(recover_log_likelihood_tab_filepath) \\\r\nIOError: [Errno 2] No such file or directory: path('../recover/traindir/log/likelihood.0.tab')\r\n```\r\n\r\nThe cause of this error is because we decide to let likelihood tab file have the same name as the likelihood file. In this case, its trying to recover a single-instance run, where the likelihood file has been renamed to likelihood.ll so the tab file name lis likelihood.tab.\r\n\r\nThe fix might seems \u201cbad\u201d, but that\u2019s the only good one I could think of for now.\r\n\r\nThe root cause of this problem and the Issue 32 is the fundamental difference how segway treat single instance and multiple instances. Despite the fact that the main run function of the two are the same, in multi instance case it use the result of set_log_likelihood_filenames call in the main run function, while in single instance, this function is called but ignored. They also have a different way wrap up after the main part of training has finished, where likelihood file is not wrapped up at the end of the single instance case. The best way to fix this is to refactoring the whole part which would be extremely costly and I would not recommend that.", "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists.", "destination": {"commit": {"hash": "003236384a66", "type": "commit", "links": {"self": {"href": "data/repositories/hoffmanlab/segway/commit/003236384a66.json"}, "html": {"href": "#!/hoffmanlab/segway/commits/003236384a66"}}}, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segway.json"}, "html": {"href": "#!/hoffmanlab/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}ts=python"}}, "type": "repository", "name": "segway", "full_name": "hoffmanlab/segway", "uuid": "{68bf38bf-f0c1-4c9c-909e-0ee4b2c26257}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "39683729b190", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway/commit/39683729b190"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway/commits/39683729b190"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/Tamaki_Sakura/segway"}, "html": {"href": "https://bitbucket.org/Tamaki_Sakura/segway"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99c18329-33d0-4f18-af6e-158fbae1f679}ts=python"}}, "type": "repository", "name": "segway", "full_name": "Tamaki_Sakura/segway", "uuid": "{99c18329-33d0-4f18-af6e-158fbae1f679}"}, "branch": {"name": "change_ll_name"}}, "state": "OPEN", "author": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "date": "2015-06-12T20:33:08.290463+00:00"}, "pull_request": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/22"}}, "title": "Fix the autobuild won't pass caused by could not find tab file by adding a test to see if the file exists."}}]}