{"links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/68/comments/26644328.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/68/_/diff#comment-26644328"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/hoffmanlab/segway/pullrequests/68.json"}, "html": {"href": "#!/hoffmanlab/segway/pull-requests/68"}}, "title": "Gaussian mixture models"}, "content": {"raw": "Tested multiple genomedata archive implementation using multipledatasets test by comparing the result of all 4 tracks in 1 genomedata archive vs all 4 tracks in 4 sep genomedata archives:\n\n1 genomedata archive:\n\n```\n#!python\n\nrachelc [ /scratch/segway-mixture-resubmit/test/multipledatasets ]$ cat test-20161110.7SoJ7g/traindir/log/segway.sh\n## segway 1.4.2.dev0 run a3aac45ea79a11e6a052989096b2d04e at 2016-11-10 18:08:49.428876\n\ncd \"/scratch/segway-mixture-resubmit/test/multipledatasets/test-20161110.7SoJ7g\"\n\"/scratch/software/bin/segway\" \"--cluster-opt=\" \"--include-coords=../include-coords.bed\" \"--mixture-components=3\" \"--track=testtrack1A,testtrack1B\" \"--track=testtrack2A,testtrack2B\" \"--num-labels=4\" \"train\" \"../full.genomedata\" \"traindir\"\n```\n\n4 genomedata archives:\n\n```\n#!python\n\nrachelc [ /scratch/segway-mixture-resubmit/test/multipledatasets ]$ cat test-20161110.TF1nfI/traindir/log/segway.sh\n## segway 1.4.2.dev0 run 0d714f06a79711e6a184989096b2d04e at 2016-11-10 17:43:08.957713\n\ncd \"/scratch/segway-mixture-resubmit/test/multipledatasets/test-20161110.TF1nfI\"\n\"/scratch/software/bin/segway\" \"--cluster-opt=\" \"--include-coords=../include-coords.bed\" \"--mixture-components=3\" \"--track=testtrack1A,testtrack1B\" \"--track=testtrack2A,testtrack2B\" \"--num-labels=4\" \"train\" \"../track1a.genomedata\" \"../track1b.genomedata\" \"../track2a.genomedata\" \"../track2b.genomedata\" \"traindir\"\n\n```\n\nResulting segmentation is the same:\n\n```\n#!python\n\nrachelc [ /scratch/segway-mixture-resubmit/test/multipledatasets ]$ zdiff test-20161110.7SoJ7g/identifydir/segway.0.bed.gz test-20161110.TF1nfI/identifydir/segway.0.bed.gz \n1c1\n< track autoScale=off description=\"segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B\" viewLimits=0:1 visibility=dense name=segway.e9ef3f30a79a11e69b0b989096b2d04e itemRgb=on\n---\n> track autoScale=off description=\"segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B\" viewLimits=0:1 visibility=dense name=segway.5439c0f8a79711e6914f989096b2d04e itemRgb=on\nrachelc [ /scratch/segway-mixture-resubmit/test/multipledatasets ]$ zdiff test-20161110.7SoJ7g/identifydir/segway.1.bed.gz test-20161110.TF1nfI/identifydir/segway.1.bed.gz \n1c1\n< track autoScale=off description=\"segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B\" viewLimits=0:1 visibility=dense name=segway.e9ef3f30a79a11e69b0b989096b2d04e itemRgb=on\n---\n> track autoScale=off description=\"segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B\" viewLimits=0:1 visibility=dense name=segway.5439c0f8a79711e6914f989096b2d04e itemRgb=on\n\n```\n\nNotably, this is without zscore though.", "markup": "markdown", "html": "<p>Tested multiple genomedata archive implementation using multipledatasets test by comparing the result of all 4 tracks in 1 genomedata archive vs all 4 tracks in 4 sep genomedata archives:</p>\n<p>1 genomedata archive:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">rachelc</span> <span class=\"p\">[</span> <span class=\"o\">/</span><span class=\"n\">scratch</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">-</span><span class=\"n\">mixture</span><span class=\"o\">-</span><span class=\"n\">resubmit</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">multipledatasets</span> <span class=\"p\">]</span><span class=\"err\">$</span> <span class=\"n\">cat</span> <span class=\"n\">test</span><span class=\"o\">-</span><span class=\"mf\">20161110.7</span><span class=\"n\">SoJ7g</span><span class=\"o\">/</span><span class=\"n\">traindir</span><span class=\"o\">/</span><span class=\"n\">log</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"n\">sh</span>\n<span class=\"c1\">## segway 1.4.2.dev0 run a3aac45ea79a11e6a052989096b2d04e at 2016-11-10 18:08:49.428876</span>\n\n<span class=\"n\">cd</span> <span class=\"s2\">&quot;/scratch/segway-mixture-resubmit/test/multipledatasets/test-20161110.7SoJ7g&quot;</span>\n<span class=\"s2\">&quot;/scratch/software/bin/segway&quot;</span> <span class=\"s2\">&quot;--cluster-opt=&quot;</span> <span class=\"s2\">&quot;--include-coords=../include-coords.bed&quot;</span> <span class=\"s2\">&quot;--mixture-components=3&quot;</span> <span class=\"s2\">&quot;--track=testtrack1A,testtrack1B&quot;</span> <span class=\"s2\">&quot;--track=testtrack2A,testtrack2B&quot;</span> <span class=\"s2\">&quot;--num-labels=4&quot;</span> <span class=\"s2\">&quot;train&quot;</span> <span class=\"s2\">&quot;../full.genomedata&quot;</span> <span class=\"s2\">&quot;traindir&quot;</span>\n</pre></div>\n\n\n<p>4 genomedata archives:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">rachelc</span> <span class=\"p\">[</span> <span class=\"o\">/</span><span class=\"n\">scratch</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">-</span><span class=\"n\">mixture</span><span class=\"o\">-</span><span class=\"n\">resubmit</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">multipledatasets</span> <span class=\"p\">]</span><span class=\"err\">$</span> <span class=\"n\">cat</span> <span class=\"n\">test</span><span class=\"o\">-</span><span class=\"mf\">20161110.</span><span class=\"n\">TF1nfI</span><span class=\"o\">/</span><span class=\"n\">traindir</span><span class=\"o\">/</span><span class=\"n\">log</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"n\">sh</span>\n<span class=\"c1\">## segway 1.4.2.dev0 run 0d714f06a79711e6a184989096b2d04e at 2016-11-10 17:43:08.957713</span>\n\n<span class=\"n\">cd</span> <span class=\"s2\">&quot;/scratch/segway-mixture-resubmit/test/multipledatasets/test-20161110.TF1nfI&quot;</span>\n<span class=\"s2\">&quot;/scratch/software/bin/segway&quot;</span> <span class=\"s2\">&quot;--cluster-opt=&quot;</span> <span class=\"s2\">&quot;--include-coords=../include-coords.bed&quot;</span> <span class=\"s2\">&quot;--mixture-components=3&quot;</span> <span class=\"s2\">&quot;--track=testtrack1A,testtrack1B&quot;</span> <span class=\"s2\">&quot;--track=testtrack2A,testtrack2B&quot;</span> <span class=\"s2\">&quot;--num-labels=4&quot;</span> <span class=\"s2\">&quot;train&quot;</span> <span class=\"s2\">&quot;../track1a.genomedata&quot;</span> <span class=\"s2\">&quot;../track1b.genomedata&quot;</span> <span class=\"s2\">&quot;../track2a.genomedata&quot;</span> <span class=\"s2\">&quot;../track2b.genomedata&quot;</span> <span class=\"s2\">&quot;traindir&quot;</span>\n</pre></div>\n\n\n<p>Resulting segmentation is the same:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">rachelc</span> <span class=\"p\">[</span> <span class=\"o\">/</span><span class=\"n\">scratch</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">-</span><span class=\"n\">mixture</span><span class=\"o\">-</span><span class=\"n\">resubmit</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">multipledatasets</span> <span class=\"p\">]</span><span class=\"err\">$</span> <span class=\"n\">zdiff</span> <span class=\"n\">test</span><span class=\"o\">-</span><span class=\"mf\">20161110.7</span><span class=\"n\">SoJ7g</span><span class=\"o\">/</span><span class=\"n\">identifydir</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"mf\">0.</span><span class=\"n\">bed</span><span class=\"o\">.</span><span class=\"n\">gz</span> <span class=\"n\">test</span><span class=\"o\">-</span><span class=\"mf\">20161110.</span><span class=\"n\">TF1nfI</span><span class=\"o\">/</span><span class=\"n\">identifydir</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"mf\">0.</span><span class=\"n\">bed</span><span class=\"o\">.</span><span class=\"n\">gz</span> \n<span class=\"mi\">1</span><span class=\"n\">c1</span>\n<span class=\"o\">&lt;</span> <span class=\"n\">track</span> <span class=\"n\">autoScale</span><span class=\"o\">=</span><span class=\"n\">off</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B&quot;</span> <span class=\"n\">viewLimits</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"mi\">1</span> <span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"n\">dense</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"n\">e9ef3f30a79a11e69b0b989096b2d04e</span> <span class=\"n\">itemRgb</span><span class=\"o\">=</span><span class=\"n\">on</span>\n<span class=\"o\">---</span>\n<span class=\"o\">&gt;</span> <span class=\"n\">track</span> <span class=\"n\">autoScale</span><span class=\"o\">=</span><span class=\"n\">off</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B&quot;</span> <span class=\"n\">viewLimits</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"mi\">1</span> <span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"n\">dense</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"mi\">5439</span><span class=\"n\">c0f8a79711e6914f989096b2d04e</span> <span class=\"n\">itemRgb</span><span class=\"o\">=</span><span class=\"n\">on</span>\n<span class=\"n\">rachelc</span> <span class=\"p\">[</span> <span class=\"o\">/</span><span class=\"n\">scratch</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">-</span><span class=\"n\">mixture</span><span class=\"o\">-</span><span class=\"n\">resubmit</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">multipledatasets</span> <span class=\"p\">]</span><span class=\"err\">$</span> <span class=\"n\">zdiff</span> <span class=\"n\">test</span><span class=\"o\">-</span><span class=\"mf\">20161110.7</span><span class=\"n\">SoJ7g</span><span class=\"o\">/</span><span class=\"n\">identifydir</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"mf\">1.</span><span class=\"n\">bed</span><span class=\"o\">.</span><span class=\"n\">gz</span> <span class=\"n\">test</span><span class=\"o\">-</span><span class=\"mf\">20161110.</span><span class=\"n\">TF1nfI</span><span class=\"o\">/</span><span class=\"n\">identifydir</span><span class=\"o\">/</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"mf\">1.</span><span class=\"n\">bed</span><span class=\"o\">.</span><span class=\"n\">gz</span> \n<span class=\"mi\">1</span><span class=\"n\">c1</span>\n<span class=\"o\">&lt;</span> <span class=\"n\">track</span> <span class=\"n\">autoScale</span><span class=\"o\">=</span><span class=\"n\">off</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B&quot;</span> <span class=\"n\">viewLimits</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"mi\">1</span> <span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"n\">dense</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"n\">e9ef3f30a79a11e69b0b989096b2d04e</span> <span class=\"n\">itemRgb</span><span class=\"o\">=</span><span class=\"n\">on</span>\n<span class=\"o\">---</span>\n<span class=\"o\">&gt;</span> <span class=\"n\">track</span> <span class=\"n\">autoScale</span><span class=\"o\">=</span><span class=\"n\">off</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">&quot;segway 4-label segmentation of testtrack1A, testtrack1B, testtrack2A, testtrack2B&quot;</span> <span class=\"n\">viewLimits</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"mi\">1</span> <span class=\"n\">visibility</span><span class=\"o\">=</span><span class=\"n\">dense</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">segway</span><span class=\"o\">.</span><span class=\"mi\">5439</span><span class=\"n\">c0f8a79711e6914f989096b2d04e</span> <span class=\"n\">itemRgb</span><span class=\"o\">=</span><span class=\"n\">on</span>\n</pre></div>\n\n\n<p>Notably, this is without zscore though.</p>", "type": "rendered"}, "created_on": "2016-11-10T23:20:53.010433+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "updated_on": "2016-11-10T23:20:53.013434+00:00", "type": "pullrequest_comment", "id": 26644328}